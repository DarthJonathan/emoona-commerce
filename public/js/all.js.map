{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["/**\r\n * Created by JohnNate on 9/7/17.\r\n */\r\n\r\nfunction userInfo (e)\r\n{\r\n    const id = e.id;\r\n\r\n    $('#modal').modal('toggle');\r\n    $('#ajax-loading').show();\r\n    $('.modal-title').empty();\r\n\r\n    $.ajax({\r\n        url: '/admin/userinfo',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { id:id },\r\n        success: function(data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction suspendUser (e)\r\n{\r\n    var id = e.id;\r\n\r\n    $.ajax({\r\n        url:'/admin/suspend',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { id:id },\r\n        success: function(data) {\r\n            toggleSuccess(data);\r\n            location.reload();\r\n        }\r\n    });\r\n}\r\n\r\nfunction makeAdmin(e)\r\n{\r\n    var id = e.id;\r\n\r\n    $.ajax({\r\n        url:'/admin/make.admin',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { id:id },\r\n        success: function(data) {\r\n            toggleSuccess(data.msg);\r\n            location.reload();\r\n        }\r\n    });\r\n}\r\n\r\nfunction demoteAdmin(e)\r\n{\r\n    var id = $(e).data('id');\r\n\r\n    $.ajax({\r\n        url:'/admin/demote.admin',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { id:id },\r\n        success: function(data) {\r\n            toggleSuccess(data.msg);\r\n            location.reload();\r\n        }\r\n    });\r\n}\r\n\r\nfunction deleteUser (e)\r\n{\r\n    var id = e.id;\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').empty();\r\n\r\n    $.ajax({\r\n        url:'/admin/delete_confirmation',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { id:id, type:'user' },\r\n        success: function(data) {\r\n            $('.modal-title').html('Are You Sure');\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction cancelDelete()\r\n{\r\n    $('#modal').modal('toggle');\r\n    $('#ajax-loading').show();\r\n}\r\n\r\nfunction confirmDelete(e)\r\n{\r\n    const id = $(e).data('id');\r\n    const type = $(e).data('type');\r\n    var url ='';\r\n\r\n    switch(type)\r\n    {\r\n        case 'user':\r\n        {\r\n            url = '/admin/remove';\r\n        }break;\r\n\r\n        case 'category':\r\n        {\r\n            url = '/admin/delete_category';\r\n        }break;\r\n\r\n        case 'item' :\r\n        {\r\n            url = '/admin/delete_item';\r\n        }break;\r\n\r\n        case 'itemDetail' :\r\n        {\r\n            url = '/admin/delete_item_detail';\r\n        }break;\r\n    }\r\n\r\n    $.ajax({\r\n        url: url,\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        data: { id:id, type: type },\r\n        success: function(data) {\r\n            if(!data.error)\r\n            {\r\n                $('#modal').modal('toggle');\r\n                toggleSuccess(data.msg);\r\n                if(data.next) {\r\n                    var e = {\r\n                        id: parseInt(data.next.id),\r\n                        category: data.next.next\r\n                    }\r\n\r\n                    console.log(e);\r\n                    loadNextCategory(e);\r\n                }\r\n            }else\r\n            {\r\n                $('#modal').modal('toggle');\r\n                toggleError(data.msg);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction deleteCategory (e)\r\n{\r\n    const id = $(e).data('id');\r\n    $('.modal-title').empty();\r\n    $('#modal').modal('toggle');\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/delete_confirmation',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id, type: 'category'},\r\n        success: function (data) {\r\n            $('.modal-title').html('Are You Sure');\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction deleteItem (e)\r\n{\r\n    const id = $(e).data('id');\r\n    $('.modal-title').empty();\r\n    $('#modal').modal('toggle');\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/delete_confirmation',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id, type: 'item'},\r\n        success: function (data) {\r\n            $('.modal-title').html('Are You Sure');\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction deleteItemDetail (e) {\r\n\r\n    const id = $(e).data('id');\r\n    $('.modal-title').empty();\r\n    $('#modal').modal('toggle');\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/delete_confirmation',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id, type: 'itemDetail'},\r\n        success: function (data) {\r\n            $('.modal-title').html('Are You Sure');\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction newItem () {\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('New Item');\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/new_item_req',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'post',\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction newItemDetail (e)\r\n{\r\n    const id = $(e).data('id');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('New Item Detail');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/new_item_detail_req',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'post',\r\n        data: {id:id},\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction editItem (e) {\r\n\r\n    const id = $(e).data('id');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('Edit Item');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/edit_item_req',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'post',\r\n        data: {id:id},\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction editItemDetail (e) {\r\n\r\n    var id              = $(e).data('id');\r\n    var field           = $(e).data('case');\r\n\r\n    if($(e).val())\r\n        var value       = $(e).val();\r\n    else\r\n        var value       = $(e).html();\r\n\r\n    $.ajax({\r\n        url: '/admin/edit_item_detail',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'post',\r\n        data: {id:id, field:field, value:value},\r\n        success: function (response) {\r\n            toggleSuccess(response.msg);\r\n        },error: function (response) {\r\n            toggleError(response.responseJSON.errors);\r\n            console.log(response.responseJSON.errors_debug);\r\n        }\r\n    });\r\n}\r\n\r\nfunction viewImagesDetail (e)\r\n{\r\n    var image_path = $(e).data(\"link\");\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('Edit Item');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/edit_item_detail_image_req',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'post',\r\n        data: {id:image_path},\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        },\r\n        error: function(data) {\r\n            $('#modal').modal('toggle');\r\n\r\n            toggleError(data.responseJSON.errors);\r\n            console.log(data.responseJSON.errors_debug);\r\n        }\r\n    });\r\n}\r\n\r\nfunction seeTransactionDetail (e)\r\n{\r\n    const id = $(e).data('id');\r\n\r\n    $.ajax({\r\n        url:'/admin/user_transaction_detail',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { id:id },\r\n        success: function(data) {\r\n            $('#ajax-loading').hide();\r\n            $('.modal-body').html(data);\r\n            $('#modal').modal('toggle');\r\n        },\r\n        error: function(data)\r\n        {\r\n            toggleError();\r\n            console.log(data.responseText);\r\n            console.log(data.responseJSON.errors);\r\n        }\r\n    });\r\n}\r\n\r\nfunction loadNextCategory (e)\r\n{\r\n    if(!$(e).data('id'))\r\n        var id = e.id;\r\n    else\r\n        var id = $(e).data('id');\r\n\r\n    if(!$(e).data('category'))\r\n        var next = e.category;\r\n    else\r\n        var next = $(e).data('category');\r\n\r\n    $.ajax({\r\n        url:'/admin/category',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { category:next, id:id },\r\n        success: function(data) {\r\n\r\n            const out = JSON.parse(data);\r\n            var html = \"\";\r\n            $('#itemsTable').DataTable().clear();\r\n\r\n            switch(out.category)\r\n            {\r\n                case '1':\r\n                {\r\n                    $('.category-two').empty();\r\n                    $('.category-three').empty();\r\n                    $('.items-list').empty();\r\n\r\n                    $.each(out.html, function(key, value){\r\n\r\n                        html = '<div style=\"cursor:pointer\" class=\"list-group-item list-group-item-action\" onclick=\"loadNextCategory(this)\" data-id=\"'+ value.id +'\" data-category=\"2\">' +\r\n                            '<span class=\"float-left\">' +\r\n                                value.name +\r\n                            '</span>' +\r\n                                '<button style=\"cursor: pointer\" class=\"btn btn-primary float-right btn-sm\" data-id=\"'+ value.id +'\" onclick=\"editCategory(this)\">Edit Item</button>' +\r\n                                '<button style=\"cursor: pointer\" class=\"btn btn-danger float-right btn-sm mr-2\" data-id=\"'+ value.id +'\" onclick=\"deleteCategory(this)\">Delete Item</button>' +\r\n                            '</div>';\r\n\r\n                        $('.category-two').append(html);\r\n                    });\r\n                }break;\r\n\r\n                case '2':\r\n                {\r\n                    $('.category-three').empty();\r\n                    $('.items-list').empty();\r\n\r\n                    $.each(out.html, function(key, value){\r\n\r\n                        html = '<div style=\"cursor:pointer\" class=\"list-group-item list-group-item-action\" onclick=\"loadNextCategory(this)\" data-id=\"'+ value.id +'\" data-category=\"3\">' +\r\n                            '<a>' +\r\n                            value.name +\r\n                            '</a>' +\r\n                            '<button style=\"cursor: pointer\" class=\"btn btn-primary float-right btn-sm\" data-id=\"'+ value.id +'\" onclick=\"editItem(this)\">Edit Item</button>' +\r\n                            '<button style=\"cursor: pointer\" class=\"btn btn-primary float-right btn-sm mr-2\" data-id=\"'+ value.id +'\" onclick=\"newItemDetail(this)\">New Item Detail</button>' +\r\n                            '<button style=\"cursor: pointer\" class=\"btn btn-danger float-right btn-sm mr-2\" data-id=\"'+ value.id +'\" onclick=\"deleteItem(this)\">Delete Item</button>' +\r\n                            '</a>';\r\n\r\n                        $('.category-three').append(html);\r\n                    });\r\n                }break;\r\n\r\n                case '3':\r\n                {\r\n                    $('.items-list').empty();\r\n\r\n                    $.each(out.html, function(key, value){\r\n\r\n                        var status = {};\r\n\r\n                        if(value.status == 'available') {\r\n                            status.available = 'checked';\r\n                            status.preorder = '';\r\n                            status.hidden = '';\r\n                        }\r\n                        else if(value.status == 'preorder') {\r\n                            status.available = '';\r\n                            status.preorder = 'checked';\r\n                            status.hidden = '';\r\n                        }\r\n                        else{\r\n                            status.available = '';\r\n                            status.preorder = '';\r\n                            status.hidden = 'checked';\r\n                        }\r\n\r\n                        if(value.featured == 1)\r\n                            featured = 'checked';\r\n                        else\r\n                            featured = '';\r\n\r\n                        //Deprecaeated\r\n\r\n                        // html = '<tr>' +\r\n                        //     '<td>'+ (key+1) +'</td>' +\r\n                        //     '<td data-case=\"color\" data-id=\"'+ value.id +'\" onblur=\"editItemDetail(this)\" contenteditable>'+ value.color +'</td>' +\r\n                        //     '<td data-case=\"size\" data-id=\"'+ value.id +'\" onblur=\"editItemDetail(this)\" contenteditable>'+ value.size +'</td>' +\r\n                        //     '<td>' +\r\n                        //     '   <button class=\"btn btn-primary btn-block\" style=\"cursor: pointer;\" data-link=\"'+ value.images +'\" onclick=\"viewImagesDetail(this)\">View Images</button>' +\r\n                        //     '</td>' +\r\n                        //     '<td data-case=\"stock\" data-id=\"'+ value.id +'\" onblur=\"editItemDetail(this)\" contenteditable>'+ value.stock +'</td>' +\r\n                        //     '<td>'+\r\n                        //     '<input type=\"radio\" name=\"status#'+ value.id +'\" ' + status.available + ' data-case=\"status\" data-id=\"'+ value.id +'\" onclick=\"editItemDetail(this)\" value=\"available\"> Available <br>' +\r\n                        //     '<input type=\"radio\" name=\"status#'+ value.id +'\" ' + status.preorder + '  data-case=\"status\" data-id=\"'+ value.id +'\" onclick=\"editItemDetail(this)\" value=\"preorder\"> Preorder <br>' +\r\n                        //     '<input type=\"radio\" name=\"status#'+ value.id +'\" ' + status.hidden + '  data-case=\"status\" data-id=\"'+ value.id +'\" onclick=\"editItemDetail(this)\" value=\"hidden\"> Hidden <br>' +\r\n                        //     '</td>' +\r\n                        //     '<td>' +\r\n                        //     '<input type=\"checkbox\" name=\"featured\" id=\"featured\" data-case=\"featured\"  data-id=\"'+ value.id +'\" onchange=\"editItemDetail(this)\" ' + featured + ' > Yes' +\r\n                        //     '</td>' +\r\n                        //     '<td>' +\r\n                        //     '<button class=\"btn btn-dark\" onclick=\"saleStatus(this)\" data-id=\"'+ value.id +'\" style=\"cursor:pointer\">Sale Status</button>' +\r\n                        //     '<button class=\"btn btn-danger\" onclick=\"deleteItemDetail(this)\" data-id=\"'+ value.id +'\" style=\"cursor:pointer\">Delete</button>' +\r\n                        //     '</td>' +\r\n                        //     '</tr>';\r\n\r\n                        // $('.items-list').append(html);\r\n\r\n                        itemTable.row.add( [\r\n                            '<td>'+ (key+1) +'</td>',\r\n                            '<td data-case=\"color\" data-id=\"'+ value.id +'\" onblur=\"editItemDetail(this)\" contenteditable>'+ value.color +'</td>',\r\n                            '<td data-case=\"size\" data-id=\"'+ value.id +'\" onblur=\"editItemDetail(this)\" contenteditable>'+ value.size +'</td>',\r\n                            '<td><button class=\"btn btn-primary btn-block\" style=\"cursor: pointer;\" data-link=\"'+ value.images +'\" onclick=\"viewImagesDetail(this)\">View Images</button></td>',\r\n                            '<td data-case=\"stock\" data-id=\"'+ value.id +'\" onblur=\"editItemDetail(this)\" contenteditable>'+ value.stock +'</td>',\r\n                            '<td><input type=\"radio\" name=\"status#'+ value.id +'\" ' + status.available + ' data-case=\"status\" data-id=\"'+ value.id +'\" onclick=\"editItemDetail(this)\" value=\"available\"> Available <br><input type=\"radio\" name=\"status#'+ value.id +'\" ' + status.preorder + '  data-case=\"status\" data-id=\"'+ value.id +'\" onclick=\"editItemDetail(this)\" value=\"preorder\"> Preorder <br><input type=\"radio\" name=\"status#'+ value.id +'\" ' + status.hidden + '  data-case=\"status\" data-id=\"'+ value.id +'\" onclick=\"editItemDetail(this)\" value=\"hidden\"> Hidden <br></td>',\r\n                            '<td><input type=\"checkbox\" name=\"featured\" id=\"featured\" data-case=\"featured\"  data-id=\"'+ value.id +'\" onchange=\"editItemDetail(this)\" ' + featured + ' > Yes </td>',\r\n                            '<td><button class=\"btn btn-dark\" onclick=\"saleStatus(this)\" data-id=\"'+ value.id +'\" style=\"cursor:pointer\">Sale Status</button><button class=\"btn btn-danger\" onclick=\"deleteItemDetail(this)\" data-id=\"'+ value.id +'\" style=\"cursor:pointer\">Delete</button></td>'\r\n                        ] ).draw( false );\r\n                    });\r\n                }break\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction saleStatus (e)\r\n{\r\n    var id = $(e).data('id');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('Payment Verification Image');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/items/sales_status',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id:id},\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction saveSale()\r\n{\r\n    var options = {\r\n        url: '/admin/items/save_sales',\r\n        type: 'POST',\r\n        success: function(response)\r\n        {\r\n            toggleSuccess(response.msg);\r\n            $('#modal').modal('toggle');\r\n        },\r\n        error: function(response)\r\n        {\r\n            console.log(response.responseText);\r\n            toggleError(JSON.stringify(response.responseJSON.errors));\r\n            $('#modal').modal('toggle');\r\n        }\r\n    };\r\n\r\n    $(\"#addSale\").ajaxSubmit(options);\r\n}\r\n\r\nfunction removeSale ()\r\n{\r\n    var options = {\r\n        url: '/admin/items/remove_sale',\r\n        type: 'POST',\r\n        success: function(response)\r\n        {\r\n            toggleSuccess(response.msg);\r\n            $('#modal').modal('toggle');\r\n        },\r\n        error: function(response)\r\n        {\r\n            console.log(response.responseText);\r\n            toggleError(JSON.stringify(response.responseJSON.errors));\r\n            $('#modal').modal('toggle');\r\n        }\r\n    };\r\n\r\n    $(\"#addSale\").ajaxSubmit(options);\r\n}\r\n\r\nfunction toggleSuccess (data)\r\n{\r\n    $('.notification-success').removeClass('hidden');\r\n    $('.alert-body-success').html(data);\r\n    setTimeout(function()\r\n    {\r\n        $('.notification-success').addClass('hidden');\r\n    }, 2500);\r\n}\r\n\r\nfunction toggleError (data)\r\n{\r\n    $('.notification-error').removeClass('hidden');\r\n    $('.alert-body-error').html(data);\r\n    setTimeout(function()\r\n    {\r\n        $('.notification-error').addClass('hidden');\r\n    }, 2500);\r\n}\r\n\r\n/* Transactions */\r\nfunction changeTab(e)\r\n{\r\n    var id = $(e).data('id');\r\n\r\n    switch(id)\r\n    {\r\n        case 'wp':\r\n        {\r\n            $('.pc').hide();\r\n            $('.ws').hide();\r\n            $('.sc').hide();\r\n            $('.wp').show(\"slow\");\r\n\r\n            $('.tab-border').removeClass(\"active\");\r\n            $('.wp-link').addClass('active');\r\n        }break;\r\n\r\n        case 'pc':\r\n        {\r\n            $('.wp').hide();\r\n            $('.ws').hide();\r\n            $('.sc').hide();\r\n            $('.pc').show(\"slow\");\r\n\r\n            $('.tab-border').removeClass(\"active\");\r\n            $('.pc-link').addClass('active');\r\n        }break;\r\n\r\n        case 'ws':\r\n        {\r\n            $('.wp').hide();\r\n            $('.pc').hide();\r\n            $('.sc').hide();\r\n            $('.ws').show(\"slow\");\r\n\r\n            $('.tab-border').removeClass(\"active\");\r\n            $('.ws-link').addClass('active');\r\n        }break;\r\n\r\n        case 'sc':\r\n        {\r\n            $('.wp').hide();\r\n            $('.pc').hide();\r\n            $('.ws').hide();\r\n            $('.sc').show(\"slow\");\r\n\r\n            $('.tab-border').removeClass(\"active\");\r\n            $('.sc-link').addClass('active');\r\n        }break;\r\n    }\r\n}\r\n\r\nfunction loadTransactionDatas ()\r\n{\r\n    var wp = $('.wp-content');\r\n    var pc = $('.pc-content');\r\n    var ws = $('.ws-content');\r\n    var sc = $('.sc-content');\r\n\r\n    wp.empty();\r\n    pc.empty();\r\n    ws.empty();\r\n    sc.empty();\r\n\r\n    $.ajax({\r\n        url: '/admin/get_transactions',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'post',\r\n        success: function (res) {\r\n\r\n            $.each(res.transactions, function(key, value){\r\n\r\n                console.log(value);\r\n\r\n                var date = value.created_at.substring(0,10).split('-');\r\n\r\n                if(value.transfer_proof == null)\r\n                {\r\n                    var transfer_proof = '<button class=\"btn btn-danger\">Not Paid</button>'\r\n                }else{\r\n\r\n                    var proof = value.transfer_proof;\r\n\r\n                    proof = '/storage/payment_verification/' + proof.split('/')[2] + '/' + proof.split('/')[3];\r\n\r\n                    var transfer_proof = '<button class=\"btn btn-primary\" data-link=\"'+ value.id +'\" onclick=\"viewPaymentProofAdmin(this)\">View Transfer Proof</button>';\r\n                }\r\n\r\n                switch(value.status)\r\n                {\r\n                    case 0 :\r\n                    {\r\n                        var html = '<tr>' +\r\n                            '<td>'+ value.id +'</td>'+\r\n                            '<td>'+ value.user.firstname + ' ' + value.user.lastname +'</td>'+\r\n                            '<td>'+ value.payment_type.name +'</td>'+\r\n                            '<td>'+ value.notes + '</td>'+\r\n                            '<td>'+ date[2] + ' - ' + date[1] + ' - ' + date[0] + '</td>'+\r\n                            '<td><button class=\"btn btn-primary\" onclick=\"openTicket(this)\" data-id=\"'+ value.id +'\" data-user-id=\"' + value.user_id + '\">Open Ticket</button></td>'+\r\n                        '</tr>';\r\n                        wp.append(html);\r\n                        $('#wpTable').DataTable();\r\n                    }break;\r\n\r\n                    case 1 :\r\n                    {\r\n                        var html = '<tr>' +\r\n                            '<td>'+ value.id +'</td>'+\r\n                            '<td>'+ value.user.firstname + ' ' + value.user.lastname +'</td>'+\r\n                            '<td>'+ value.payment_type.name +'</td>'+\r\n                            '<td>'+ value.notes +'</td>'+\r\n                            '<td>'+ transfer_proof +'</td>'+\r\n                            '<td>'+ date[2] + ' - ' + date[1] + ' - ' + date[0] + '</td>'+\r\n                            '<td>' +\r\n                            '<button class=\"btn btn-primary mr-2\" onclick=\"openTicket(this)\" data-id=\"'+ value.id +'\" data-user-id=\"' + value.user_id + '\">Open Ticket</button>' +\r\n                            '<button class=\"btn btn-primary\" onclick=\"confirmPayment(this)\" data-id=\"' + value.id + '\">Confirm Payment</button>' +\r\n                            '</td>'+\r\n                            '</tr>';\r\n                        pc.append(html);\r\n                        $('#pcTable').DataTable();\r\n                    }break;\r\n\r\n                    case 2 :\r\n                    {\r\n                        var html = '<tr>' +\r\n                            '<td>'+ value.id +'</td>'+\r\n                            '<td>'+ value.user.firstname + ' ' + value.user.lastname +'</td>'+\r\n                            '<td>'+ value.payment_type.name +'</td>'+\r\n                            '<td>'+ value.notes +'</td>'+\r\n                            '<td>'+ transfer_proof +'</td>'+\r\n                            '<td>'+ date[2] + ' - ' + date[1] + ' - ' + date[0] + '</td>'+\r\n                            '<td>' +\r\n                            '<button class=\"btn btn-primary\" onclick=\"addTrackingCode(this)\" data-id=\"'+ value.id +'\">Add Tracking Code</button>' +\r\n                            '<button class=\"btn btn-primary\" onclick=\"openTicket(this)\" data-id=\"'+ value.id +'\" data-user-id=\"' + value.user_id + '\">Open Ticket</button>' +\r\n                            '</td>'+\r\n                            '</tr>';\r\n                        ws.append(html);\r\n                        $('#wsTable').DataTable();\r\n                    }break;\r\n\r\n                    case 3 :\r\n                    {\r\n                        var html = '<tr>' +\r\n                            '<td>'+ value.id +'</td>'+\r\n                            '<td>'+ value.user.firstname + ' ' + value.user.lastname +'</td>'+\r\n                            '<td>'+ value.payment_type.name +'</td>'+\r\n                            '<td>'+ value.notes +'</td>'+\r\n                            '<td>'+ transfer_proof +'</td>'+\r\n                            '<td>'+ value.shipping_codes +'</td>'+\r\n                            '<td>'+ date[2] + ' - ' + date[1] + ' - ' + date[0] + '</td>'+\r\n                            '<td><button class=\"btn btn-primary\" onclick=\"openTicket(this)\" data-id=\"'+ value.id +'\" data-user-id=\"' + value.user_id + '\">Open Ticket</button></td>'+\r\n                            '</tr>';\r\n                        sc.append(html);\r\n                        $('#scTable').DataTable();\r\n                    }break;\r\n                }\r\n\r\n            });\r\n        },\r\n        error: function (data) {\r\n            toggleError(data.responseJSON.errors);\r\n            console.log(data.responseJSON.errors_debug);\r\n        }\r\n    });\r\n}\r\n\r\nfunction confirmPayment(e)\r\n{\r\n    var id = $(e).data('id');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('Confirm Payment?');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/confirm_prompt',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id, type: 'confirm_payment'},\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction confirmAction(e)\r\n{\r\n    var id = $(e).data('id');\r\n    var type = $(e).data('type');\r\n\r\n    $.ajax({\r\n        url: type,\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id},\r\n        success: function (response) {\r\n            toggleSuccess(response.msg);\r\n            $('#modal').modal('toggle');\r\n\r\n            if(type == 'confirm_payment')\r\n                loadTransactionDatas();\r\n        },\r\n        error: function(data) {\r\n            toggleError(data.responseJSON.errors);\r\n            console.log(data.responseJSON.errors_debug);\r\n            $('#modal').modal('toggle');\r\n        }\r\n    });\r\n}\r\n\r\nfunction cancelAction()\r\n{\r\n    $('#modal').modal('toggle');\r\n}\r\n\r\nfunction openTicket(e)\r\n{\r\n    var id = $(e).data('id');\r\n    var user_id = $(e).data('user-id');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('Open New Support Ticket');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/open_ticket_req',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id, user_id: user_id},\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction addTrackingCode(e)\r\n{\r\n    var id = $(e).data('id');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('Add Tracking Code');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/add_tracking_code_req',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id},\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction replyTicket(e)\r\n{\r\n    var id = $(e).data('id');\r\n    \r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('Reply Ticket');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/reply_ticket_req',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id},\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction markCompleted (e)\r\n{\r\n    var id = $(e).data('id');\r\n\r\n    $.ajax({\r\n        url: '/admin/complete_ticket',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id},\r\n        success: function (response) {\r\n            toggleSuccess(response.msg);\r\n            loadTickets();\r\n        },\r\n        error: function(data) {\r\n            toggleError(data.responseJSON.errors);\r\n            console.log(data.responseJSON.errors_debug);\r\n        }\r\n    });\r\n}\r\n\r\nfunction makeDate (e)\r\n{\r\n    var date = e.substring(0,10).split('-');\r\n\r\n    date = date[2] + '-' + date[1] + '-' + date[0];\r\n\r\n    return date;\r\n}\r\n\r\n\r\nfunction verifyPayment(e)\r\n{\r\n    var id = $(e).data('id');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('Payment Verification Image');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/verify_payment/' + id,\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction viewPaymentProof(e)\r\n{\r\n    var id = $(e).data('id');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('Payment Verification Image');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/view_payment_proof',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id:id},\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction viewPaymentProofAdmin(e)\r\n{\r\n    var id = $(e).data('link');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('Payment Verification Image');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/view_payment_proof',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id:id},\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction openAdditionals (e)\r\n{\r\n    var id = $(e).data('link');\r\n    var img = id.split('/');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('View Additionals');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').hide();\r\n    $('.modal-body').html('<a href=\"http://localhost:8000/storage/support_ticket/' + img[2] + '/' + img[3] + '\"><img src=\"/storage/support_ticket/' + img[2] + '/' + img[3] + '\" width=\"300px\"></a>');\r\n\r\n}\r\n\r\nfunction loadFeatured ()\r\n{\r\n    var featured = $('.featured-product');\r\n    featured.empty();\r\n\r\n    $.ajax({\r\n        url: '/admin/webconfig/get_featured',\r\n        headers: {'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        success: function (data) {\r\n\r\n            $.each(data.featured, function(key, value){\r\n\r\n                var images = data.images[key][0];\r\n                images = images.split('/')[2] + '/' + images.split('/')[3];\r\n\r\n                var html = '<div class=\"single-featured col-md-4\">' +\r\n                    '<img src=\"/storage/item_detail/' + images + '\" data-id=\"' + value.id + '\" onclick=\"checkBox(this)\" id=\"featuredimg' + value.id +'\">' +\r\n                    '<input type=\"checkbox\" name=\"featured#'+ value.id +'\" id=\"featured'+ value.id +'\" class=\"featured-items\">' +\r\n                    '</div>';\r\n\r\n                featured.append(html);\r\n            });\r\n\r\n        },\r\n        error: function(response) {\r\n            console.log(response.responseJSON);\r\n            toggleError(response.responseJSON.errors);\r\n        }\r\n    });\r\n}\r\n\r\nfunction removeFeatured()\r\n{\r\n    var items = $('.featured-items');\r\n    var items_id = [];\r\n\r\n    $.each(items, function(key, value){\r\n        if($(value).is(':checked')) {\r\n            var id = $(value).attr('id').split('featured')[1];\r\n            items_id.push(id);\r\n        }\r\n    });\r\n\r\n    console.log(items_id);\r\n\r\n    $.ajax({\r\n        url: '/admin/webconfig/remove.featured',\r\n        headers: {'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data:{items: items_id},\r\n        success: function (data) {\r\n\r\n            $.each(items_id, function(key, value)\r\n            {\r\n                $('#featured' + value).remove();\r\n                $('#featuredimg' + value).remove();\r\n            });\r\n\r\n            toggleSuccess(data.msg);\r\n        },\r\n        error: function(response) {\r\n            console.log(response);\r\n            toggleError(response.responseJSON.errors);\r\n        }\r\n    });\r\n}\r\n\r\nfunction saveThis(e)\r\n{\r\n    var what = $(e).data('what');\r\n    var data = \"\";\r\n\r\n    switch(what)\r\n    {\r\n        case 'about':\r\n        {\r\n            data = tinyMCE.get('about').getContent()\r\n        }break;\r\n\r\n        case 'tnc':\r\n        {\r\n            data = tinyMCE.get('tnc').getContent()\r\n        }break;\r\n\r\n        case 'return':\r\n        {\r\n            data = tinyMCE.get('return').getContent()\r\n        }break;\r\n\r\n        case 'shipping':\r\n        {\r\n            data = tinyMCE.get('shipping').getContent()\r\n        }break;\r\n\r\n        case 'contact' :\r\n        {\r\n            data = tinyMCE.get('contact').getContent()\r\n        }break;\r\n    }\r\n\r\n    $.ajax({\r\n        url: '/admin/webconfig/edit.texts',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data:{data: data, what: what},\r\n        success: function (data) {\r\n            toggleSuccess(data.msg);\r\n            // console.log(data);\r\n        },\r\n        error: function(response) {\r\n            console.log(response);\r\n            // console.log(response.responseText);\r\n            toggleError(response.responseJSON.errors);\r\n        }\r\n    });\r\n}\r\n\r\nfunction uploadNew ()\r\n{\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('New Slider Image');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/webconfig/add_slider_ajax',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        success: function (data) {\r\n            $('#ajax-loading').hide();\r\n            $('.modal-body').html(data);\r\n        },\r\n        error: function(response) {\r\n            $('#modal').modal('toggle');\r\n            toggleError(response.responseJSON.errors);\r\n            console.log(response.responseText);0\r\n        }\r\n    });\r\n}\r\n\r\nfunction removeImage()\r\n{\r\n    var items = $('.slide-items');\r\n    var items_id = [];\r\n    var item_remove = [];\r\n\r\n    $.each(items, function(key, value){\r\n        if($(value).is(':checked')) {\r\n            var id      = $(value).val();\r\n            var remove  = $(value).attr('id').split('slide')[1];\r\n            items_id.push(id);\r\n            item_remove.push(remove);\r\n        }\r\n    });\r\n\r\n    if(items_id.length == 0)\r\n    {\r\n        toggleError(\"Please select an item\");\r\n        return false;\r\n    }\r\n\r\n    $.ajax({\r\n        url: '/admin/webconfig/remove.slider',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data:{items: items_id},\r\n        success: function (data) {\r\n\r\n            $.each(item_remove, function(key, value)\r\n            {\r\n                $('.slide-' + value).remove();\r\n            });\r\n\r\n            toggleSuccess(data.msg);\r\n        },\r\n        error: function(response) {\r\n            console.log(response);\r\n            console.log(response.responseText);\r\n            toggleError(response.responseJSON.errors);\r\n        }\r\n    });\r\n}\r\n\r\nfunction changeImage()\r\n{\r\n    var options = {\r\n        url: '/admin/webconfig/change_collections',\r\n        type: 'POST',\r\n        success: function(response)\r\n        {\r\n            toggleSuccess(response.msg);\r\n            setTimeout(\r\n                function()\r\n                {\r\n                    location.reload();\r\n                }, 2500);\r\n        },\r\n        error: function(response)\r\n        {\r\n            toggleError(JSON.stringify(response.responseJSON.errors));\r\n            console.log(response.responseJSON.errors_debug);\r\n        }\r\n    };\r\n\r\n    $(\"#changeCollection\").ajaxSubmit(options);\r\n}\r\n\r\nfunction viewMailContent(e)\r\n{\r\n    var id = $(e).data('id');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('Newsletter Content');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/newsletter/view.content',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id},\r\n        success: function (data) {\r\n            $('#ajax-loading').hide();\r\n            $('.modal-body').html(data);\r\n        },\r\n        error: function(response) {\r\n            $('#modal').modal('toggle');\r\n            console.log(response.responseText);\r\n            toggleError(response.responseJSON.errors);\r\n        }\r\n    });\r\n}\r\n\r\nfunction saveTransferText ()\r\n{\r\n    var value = data = tinyMCE.get('value_transfer').getContent();\r\n\r\n    $.ajax({\r\n        url: '/admin/webconfig/update_transfer_text',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        data: {value: value},\r\n        type: 'POST',\r\n        success: function (data) {\r\n            toggleSuccess(data.msg);\r\n        },\r\n        error: function (response) {\r\n            toggleError(response.responseJSON.errors);\r\n        }\r\n    });\r\n}\r\n\r\n/*\r\n    Cesa's Work\r\n */\r\nfunction editCategory (e)\r\n{\r\n    const id = $(e).data('id');\r\n    $('.modal-title').empty();\r\n    $('#modal').modal('toggle');\r\n\r\n    $.ajax({\r\n        url: '/admin/edit_category_req',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id, type: 'category'},\r\n        success: function(data){\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction newCategory () {\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('New Category');\r\n\r\n    $.ajax({\r\n        url: '/admin/new_category_req',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}"]}
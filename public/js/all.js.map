{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["/**\r\n * Created by JohnNate on 9/7/17.\r\n */\r\n\r\nfunction userInfo (e)\r\n{\r\n    const id = e.id;\r\n\r\n    $('#modal').modal('toggle');\r\n    $('#ajax-loading').show();\r\n    $('.modal-title').empty();\r\n\r\n    $.ajax({\r\n        url: '/admin/userinfo',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { id:id },\r\n        success: function(data) {\r\n            const user = JSON.parse(data);\r\n\r\n            const html = '<h3 class=\"m-2 mb-4\">User Information</h3>' +\r\n                '<table class=\"table\">' +\r\n                '<tr>' +\r\n                '<td>Name</td>' +\r\n                '<td>'+ user.firstname +' ' + user.lastname+ '</td>' +\r\n                '</tr>' +\r\n                '<tr>' +\r\n                '<td>Phone</td>' +\r\n                '<td>'+ user.user_info.phone + '</td>' +\r\n                '</tr>' +\r\n                '<tr>' +\r\n                '<tr>' +\r\n                '<td>Birthday</td>' +\r\n                '<td>'+ user.user_info.birthday + '</td>' +\r\n                '</tr>' +\r\n                '<tr>' +\r\n                '<td>Address</td>' +\r\n                '<td>'+ user.user_info.address + '</td>' +\r\n                '</tr>' +\r\n                '<tr>' +\r\n                '<td>Country</td>' +\r\n                '<td>'+ user.user_info.country + '</td>' +\r\n                '</tr>' +\r\n                '<tr>' +\r\n                '<td>Postcode</td>' +\r\n                '<td>'+ user.user_info.postcode + '</td>' +\r\n                '</tr>' +\r\n                '<tr>' +\r\n                '<td>Province</td>' +\r\n                '<td>'+ user.user_info.province + '</td>' +\r\n                '</tr>' +\r\n                '<tr>' +\r\n                '<td>Last Login</td>' +\r\n                '<td>'+ user.last_login + '</td>' +\r\n                '</tr>' +\r\n                '<tr>' +\r\n                '<td>Created</td>' +\r\n                '<td>'+ user.created_at + '</td>' +\r\n                '</tr>' +\r\n                '</table>';\r\n\r\n            $('.modal-body').html(html);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction suspendUser (e)\r\n{\r\n    const id = e.id;\r\n\r\n    $.ajax({\r\n        url:'/admin/suspend',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { id:id },\r\n        success: function(data) {\r\n            toggleSuccess(data);\r\n        }\r\n    });\r\n}\r\n\r\nfunction deleteUser (e)\r\n{\r\n    const id = e.id;\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').empty();\r\n\r\n    $.ajax({\r\n        url:'/admin/delete_confirmation',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { id:id, type:'user' },\r\n        success: function(data) {\r\n            $('.modal-title').html('Are You Sure');\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction cancelDelete()\r\n{\r\n    $('#modal').modal('toggle');\r\n    $('#ajax-loading').show();\r\n}\r\n\r\nfunction confirmDelete(e)\r\n{\r\n    const id = $(e).data('id');\r\n    const type = $(e).data('type');\r\n    var url ='';\r\n\r\n    switch(type)\r\n    {\r\n        case 'user':\r\n        {\r\n            url = '/admin/remove';\r\n        }break;\r\n\r\n        case 'category':\r\n        {\r\n            url = '/admin/delete_category';\r\n        }break;\r\n\r\n        case 'item' :\r\n        {\r\n            url = '/admin/delete_item';\r\n        }break;\r\n\r\n        case 'itemDetail' :\r\n        {\r\n            url = '/admin/delete_item_detail';\r\n        }break;\r\n    }\r\n\r\n    $.ajax({\r\n        url: url,\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        data: { id:id, type: type },\r\n        success: function(data) {\r\n\r\n            if(!data.error)\r\n            {\r\n                $('#modal').modal('toggle');\r\n                toggleSuccess(data.msg);\r\n            }else\r\n            {\r\n                $('#modal').modal('toggle');\r\n                toggleError(data.msg);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction deleteCategory (e)\r\n{\r\n    const id = $(e).data('id');\r\n    $('.modal-title').empty();\r\n    $('#modal').modal('toggle');\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/delete_confirmation',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id, type: 'category'},\r\n        success: function (data) {\r\n            $('.modal-title').html('Are You Sure');\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction deleteItem (e)\r\n{\r\n    const id = $(e).data('id');\r\n    $('.modal-title').empty();\r\n    $('#modal').modal('toggle');\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/delete_confirmation',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id, type: 'item'},\r\n        success: function (data) {\r\n            $('.modal-title').html('Are You Sure');\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction deleteItemDetail (e) {\r\n\r\n    const id = $(e).data('id');\r\n    $('.modal-title').empty();\r\n    $('#modal').modal('toggle');\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/delete_confirmation',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: {id: id, type: 'itemDetail'},\r\n        success: function (data) {\r\n            $('.modal-title').html('Are You Sure');\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction newItem () {\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('New Item');\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/new_item_req',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'post',\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction newItemDetail (e)\r\n{\r\n    const id = $(e).data('id');\r\n\r\n    $('#modal').modal('toggle');\r\n    $('.modal-title').html('New Item Detail');\r\n    $('.modal-body').empty();\r\n    $('#ajax-loading').show();\r\n\r\n    $.ajax({\r\n        url: '/admin/new_item_detail_req',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'post',\r\n        data: {id:id},\r\n        success: function (data) {\r\n            $('.modal-body').html(data);\r\n            $('#ajax-loading').hide();\r\n        }\r\n    });\r\n}\r\n\r\nfunction editItem (e) {\r\n\r\n    const id = $(e).data('id');\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nfunction editItemDetail () {\r\n\r\n}\r\n\r\nfunction seeTransactionDetail (e)\r\n{\r\n    const id = $(e).data('id');\r\n\r\n    $.ajax({\r\n        url:'/admin/user_transaction_detail',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { id:id },\r\n        success: function(data) {\r\n\r\n            const transaction_details = JSON.parse(data);\r\n\r\n            // console.log(transaction_details);\r\n\r\n            var html = '<h3 class=\"m-2 mb-4\">User Information</h3>' +\r\n                '<table class=\"table\">' +\r\n                '<thead>' +\r\n                '<tr>' +\r\n                '<td>No</td>' +\r\n                '<td>Item</td>' +\r\n                '<td>Color</td>' +\r\n                '<td>Size</td>' +\r\n                '<td>Quantity</td>' +\r\n                '</tr>' +\r\n                '</thead>' +\r\n                '<tbody class=\"trans-detail\"></tbody>' +\r\n                '</table>';\r\n\r\n            $('.modal-body').html(html);\r\n\r\n            $.each(transaction_details, function (key, value){\r\n                $('.trans-detail').append(\r\n                    '<tr>' +\r\n                    '<td>'+ (key+1) +'</td>' +\r\n                    '<td>'+ value.item.name +'</td>' +\r\n                    '<td>'+ value.item_detail.color +'</td>' +\r\n                    '<td>'+ value.item_detail.size +'</td>' +\r\n                    '<td>'+ value.quantity +'</td>' +\r\n                    '</td>'\r\n                );\r\n            });\r\n\r\n            $('#modal').modal('toggle');\r\n        }\r\n    });\r\n}\r\n\r\nfunction loadNextCategory (e)\r\n{\r\n    const id = $(e).data('id');\r\n    const next = $(e).data('category');\r\n\r\n    $.ajax({\r\n        url:'/admin/category',\r\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\r\n        type: 'POST',\r\n        data: { category:next, id:id },\r\n        success: function(data) {\r\n\r\n            const out = JSON.parse(data);\r\n            var html = \"\";\r\n\r\n            switch(out.category)\r\n            {\r\n                case '1':\r\n                {\r\n                    $('.category-two').empty();\r\n                    $('.category-three').empty();\r\n                    $('.items-list').empty();\r\n\r\n                    $.each(out.html, function(key, value){\r\n\r\n                        html = '<div style=\"cursor:pointer\" class=\"list-group-item list-group-item-action\" onclick=\"loadNextCategory(this)\" data-id=\"'+ value.id +'\" data-category=\"2\">' +\r\n                            '<span class=\"float-left\">' +\r\n                                value.name +\r\n                            '</span>' +\r\n                                '<button style=\"cursor: pointer\" class=\"btn btn-primary float-right btn-sm\" data-id=\"'+ value.id +'\" onclick=\"editCategory(this)\">Edit Item</button>' +\r\n                                '<button style=\"cursor: pointer\" class=\"btn btn-danger float-right btn-sm mr-2\" data-id=\"'+ value.id +'\" onclick=\"deleteCategory(this)\">Delete Item</button>' +\r\n                            '</div>';\r\n\r\n                        $('.category-two').append(html);\r\n                    });\r\n                }break;\r\n\r\n                case '2':\r\n                {\r\n                    $('.category-three').empty();\r\n                    $('.items-list').empty();\r\n\r\n                    $.each(out.html, function(key, value){\r\n\r\n                        html = '<div style=\"cursor:pointer\" class=\"list-group-item list-group-item-action\" onclick=\"loadNextCategory(this)\" data-id=\"'+ value.id +'\" data-category=\"3\">' +\r\n                            '<a>' +\r\n                            value.name +\r\n                            '</a>' +\r\n                            '<button style=\"cursor: pointer\" class=\"btn btn-primary float-right btn-sm\" data-id=\"'+ value.id +'\" onclick=\"editItem(this)\">Edit Item</button>' +\r\n                            '<button style=\"cursor: pointer\" class=\"btn btn-primary float-right btn-sm mr-2\" data-id=\"'+ value.id +'\" onclick=\"newItemDetail(this)\">New Item Detail</button>' +\r\n                            '<button style=\"cursor: pointer\" class=\"btn btn-danger float-right btn-sm mr-2\" data-id=\"'+ value.id +'\" onclick=\"deleteItem(this)\">Delete Item</button>' +\r\n                            '</a>';\r\n\r\n                        $('.category-three').append(html);\r\n                    });\r\n                }break;\r\n\r\n                case '3':\r\n                {\r\n                    $('.items-list').empty();\r\n\r\n                    $.each(out.html, function(key, value){\r\n\r\n                        html = '<tr>' +\r\n                            '<td>'+ (key+1) +'</td>' +\r\n                            '<td>'+ value.color +'</td>' +\r\n                            '<td>'+ value.size +'</td>' +\r\n                            '<td>'+ value.images +'</td>' +\r\n                            '<td>'+ value.stock +'</td>' +\r\n                            '<td>'+ value.status +'</td>' +\r\n                            '<td>' +\r\n                            '<button class=\"btn btn-danger\" onclick=\"deleteItemDetail(this)\" data-id=\"'+ value.id +'\" style=\"cursor:pointer\">Delete</button>' +\r\n                            '</td>' +\r\n                            '</tr>';\r\n\r\n                        $('.items-list').append(html);\r\n                    });\r\n                }break\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction toggleSuccess (data)\r\n{\r\n    $('.notification-success').removeClass('hidden');\r\n    $('.alert-body-success').html(data);\r\n    setTimeout(function()\r\n    {\r\n        $('.notification-success').addClass('hidden');\r\n        location.reload();\r\n    }, 1500);\r\n}\r\n\r\nfunction toggleError (data)\r\n{\r\n    $('.notification-error').removeClass('hidden');\r\n    $('.alert-body-error').html(data);\r\n    setTimeout(function()\r\n    {\r\n        $('.notification-error').addClass('hidden');\r\n    }, 1500);\r\n}"]}
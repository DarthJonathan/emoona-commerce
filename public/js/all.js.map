{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["/**\n * Created by JohnNate on 9/7/17.\n */\n\nfunction userInfo (e)\n{\n    const id = e.id;\n\n    $('#modal').modal('toggle');\n    $('#ajax-loading').show();\n    $('.modal-title').empty();\n\n    $.ajax({\n        url: '/admin/userinfo',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: { id:id },\n        success: function(data) {\n            const user = JSON.parse(data);\n\n            const html = '<h3 class=\"m-2 mb-4\">User Information</h3>' +\n                '<table class=\"table\">' +\n                '<tr>' +\n                '<td>Name</td>' +\n                '<td>'+ user.firstname +' ' + user.lastname+ '</td>' +\n                '</tr>' +\n                '<tr>' +\n                '<td>Phone</td>' +\n                '<td>'+ user.user_info.phone + '</td>' +\n                '</tr>' +\n                '<tr>' +\n                '<tr>' +\n                '<td>Birthday</td>' +\n                '<td>'+ user.user_info.birthday + '</td>' +\n                '</tr>' +\n                '<tr>' +\n                '<td>Address</td>' +\n                '<td>'+ user.user_info.address + '</td>' +\n                '</tr>' +\n                '<tr>' +\n                '<td>Country</td>' +\n                '<td>'+ user.user_info.country + '</td>' +\n                '</tr>' +\n                '<tr>' +\n                '<td>Postcode</td>' +\n                '<td>'+ user.user_info.postcode + '</td>' +\n                '</tr>' +\n                '<tr>' +\n                '<td>Province</td>' +\n                '<td>'+ user.user_info.province + '</td>' +\n                '</tr>' +\n                '<tr>' +\n                '<td>Last Login</td>' +\n                '<td>'+ user.last_login + '</td>' +\n                '</tr>' +\n                '<tr>' +\n                '<td>Created</td>' +\n                '<td>'+ user.created_at + '</td>' +\n                '</tr>' +\n                '</table>';\n\n            $('.modal-body').html(html);\n            $('#ajax-loading').hide();\n        }\n    });\n}\n\nfunction suspendUser (e)\n{\n    const id = e.id;\n\n    $.ajax({\n        url:'/admin/suspend',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: { id:id },\n        success: function(data) {\n            toggleSuccess(data);\n        }\n    });\n}\n\nfunction deleteUser (e)\n{\n    const id = e.id;\n\n    $('#modal').modal('toggle');\n    $('.modal-title').empty();\n\n    $.ajax({\n        url:'/admin/delete_confirmation',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: { id:id, type:'user' },\n        success: function(data) {\n            $('.modal-title').html('Are You Sure');\n            $('.modal-body').html(data);\n            $('#ajax-loading').hide();\n        }\n    });\n}\n\nfunction cancelDelete()\n{\n    $('#modal').modal('toggle');\n    $('#ajax-loading').show();\n}\n\nfunction confirmDelete(e)\n{\n    const id = $(e).data('id');\n    const type = $(e).data('type');\n    var url ='';\n\n    switch(type)\n    {\n        case 'user':\n        {\n            url = '/admin/remove';\n        }break;\n\n        case 'category':\n        {\n            url = '/admin/delete_category';\n        }break;\n\n        case 'item' :\n        {\n            url = '/admin/delete_item';\n        }break;\n\n        case 'itemDetail' :\n        {\n            url = '/admin/delete_item_detail';\n        }break;\n    }\n\n    $.ajax({\n        url: url,\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        dataType: 'json',\n        data: { id:id, type: type },\n        success: function(data) {\n            if(!data.error)\n            {\n                $('#modal').modal('toggle');\n                toggleSuccess(data.msg);\n                if(data.next) {\n                    var e = {\n                        id: parseInt(data.next.id),\n                        category: data.next.next\n                    }\n\n                    console.log(e);\n                    loadNextCategory(e);\n                }\n            }else\n            {\n                $('#modal').modal('toggle');\n                toggleError(data.msg);\n            }\n        }\n    });\n}\n\nfunction deleteCategory (e)\n{\n    const id = $(e).data('id');\n    $('.modal-title').empty();\n    $('#modal').modal('toggle');\n    $('#ajax-loading').show();\n\n    $.ajax({\n        url: '/admin/delete_confirmation',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: {id: id, type: 'category'},\n        success: function (data) {\n            $('.modal-title').html('Are You Sure');\n            $('.modal-body').html(data);\n            $('#ajax-loading').hide();\n        }\n    });\n}\n\nfunction deleteItem (e)\n{\n    const id = $(e).data('id');\n    $('.modal-title').empty();\n    $('#modal').modal('toggle');\n    $('#ajax-loading').show();\n\n    $.ajax({\n        url: '/admin/delete_confirmation',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: {id: id, type: 'item'},\n        success: function (data) {\n            $('.modal-title').html('Are You Sure');\n            $('.modal-body').html(data);\n            $('#ajax-loading').hide();\n        }\n    });\n}\n\nfunction deleteItemDetail (e) {\n\n    const id = $(e).data('id');\n    $('.modal-title').empty();\n    $('#modal').modal('toggle');\n    $('#ajax-loading').show();\n\n    $.ajax({\n        url: '/admin/delete_confirmation',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: {id: id, type: 'itemDetail'},\n        success: function (data) {\n            $('.modal-title').html('Are You Sure');\n            $('.modal-body').html(data);\n            $('#ajax-loading').hide();\n        }\n    });\n}\n\nfunction newItem () {\n    $('#modal').modal('toggle');\n    $('.modal-title').html('New Item');\n    $('#ajax-loading').show();\n\n    $.ajax({\n        url: '/admin/new_item_req',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'post',\n        success: function (data) {\n            $('.modal-body').html(data);\n            $('#ajax-loading').hide();\n        }\n    });\n}\n\nfunction newItemDetail (e)\n{\n    const id = $(e).data('id');\n\n    $('#modal').modal('toggle');\n    $('.modal-title').html('New Item Detail');\n    $('.modal-body').empty();\n    $('#ajax-loading').show();\n\n    $.ajax({\n        url: '/admin/new_item_detail_req',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'post',\n        data: {id:id},\n        success: function (data) {\n            $('.modal-body').html(data);\n            $('#ajax-loading').hide();\n        }\n    });\n}\n\nfunction editItem (e) {\n\n    const id = $(e).data('id');\n\n    $('#modal').modal('toggle');\n    $('.modal-title').html('Edit Item');\n    $('.modal-body').empty();\n    $('#ajax-loading').show();\n\n    $.ajax({\n        url: '/admin/edit_item_req',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'post',\n        data: {id:id},\n        success: function (data) {\n            $('.modal-body').html(data);\n            $('#ajax-loading').hide();\n        }\n    });\n}\n\nfunction editItemDetail (e) {\n\n    var id              = $(e).data('id');\n    var field           = $(e).data('case');\n\n    if($(e).val())\n        var value       = $(e).val();\n    else\n        var value       = $(e).html();\n\n    $.ajax({\n        url: '/admin/edit_item_detail',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'post',\n        data: {id:id, field:field, value:value},\n        success: function (response) {\n            toggleSuccess(response.msg);\n        },error: function (response) {\n            toggleError(response.responseJSON.errors);\n            console.log(response.responseJSON.errors_debug);\n        }\n    });\n}\n\nfunction viewImagesDetail (e)\n{\n    var image_path = $(e).data(\"link\");\n\n    $('#modal').modal('toggle');\n    $('.modal-title').html('Edit Item');\n    $('.modal-body').empty();\n    $('#ajax-loading').show();\n\n    $.ajax({\n        url: '/admin/edit_item_detail_image_req',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'post',\n        data: {id:image_path},\n        success: function (data) {\n            $('.modal-body').html(data);\n            $('#ajax-loading').hide();\n        },\n        error: function(data) {\n            $('#modal').modal('toggle');\n\n            toggleError(data.responseJSON.errors);\n            console.log(data.responseJSON.errors_debug);\n        }\n    });\n}\n\nfunction seeTransactionDetail (e)\n{\n    const id = $(e).data('id');\n\n    $.ajax({\n        url:'/admin/user_transaction_detail',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: { id:id },\n        success: function(data) {\n\n            const transaction_details = JSON.parse(data);\n\n            var html = '<h3 class=\"m-2 mb-4\">User Information</h3>' +\n                '<table class=\"table\">' +\n                '<thead>' +\n                '<tr>' +\n                '<td>No</td>' +\n                '<td>Item</td>' +\n                '<td>Color</td>' +\n                '<td>Size</td>' +\n                '<td>Quantity</td>' +\n                '</tr>' +\n                '</thead>' +\n                '<tbody class=\"trans-detail\"></tbody>' +\n                '</table>';\n\n            $('.modal-body').html(html);\n\n            $.each(transaction_details, function (key, value){\n                $('.trans-detail').append(\n                    '<tr>' +\n                    '<td>'+ (key+1) +'</td>' +\n                    '<td>'+ value.item.name +'</td>' +\n                    '<td>'+ value.item_detail.color +'</td>' +\n                    '<td>'+ value.item_detail.size +'</td>' +\n                    '<td>'+ value.quantity +'</td>' +\n                    '</td>'\n                );\n            });\n\n            $('#modal').modal('toggle');\n        }\n    });\n}\n\nfunction loadNextCategory (e)\n{\n    if(!$(e).data('id'))\n        var id = e.id;\n    else\n        var id = $(e).data('id');\n\n    if(!$(e).data('category'))\n        var next = e.category;\n    else\n        var next = $(e).data('category');\n\n    $.ajax({\n        url:'/admin/category',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: { category:next, id:id },\n        success: function(data) {\n\n            const out = JSON.parse(data);\n            var html = \"\";\n\n            switch(out.category)\n            {\n                case '1':\n                {\n                    $('.category-two').empty();\n                    $('.category-three').empty();\n                    $('.items-list').empty();\n\n                    $.each(out.html, function(key, value){\n\n                        html = '<div style=\"cursor:pointer\" class=\"list-group-item list-group-item-action\" onclick=\"loadNextCategory(this)\" data-id=\"'+ value.id +'\" data-category=\"2\">' +\n                            '<span class=\"float-left\">' +\n                                value.name +\n                            '</span>' +\n                                '<button style=\"cursor: pointer\" class=\"btn btn-primary float-right btn-sm\" data-id=\"'+ value.id +'\" onclick=\"editCategory(this)\">Edit Item</button>' +\n                                '<button style=\"cursor: pointer\" class=\"btn btn-danger float-right btn-sm mr-2\" data-id=\"'+ value.id +'\" onclick=\"deleteCategory(this)\">Delete Item</button>' +\n                            '</div>';\n\n                        $('.category-two').append(html);\n                    });\n                }break;\n\n                case '2':\n                {\n                    $('.category-three').empty();\n                    $('.items-list').empty();\n\n                    $.each(out.html, function(key, value){\n\n                        html = '<div style=\"cursor:pointer\" class=\"list-group-item list-group-item-action\" onclick=\"loadNextCategory(this)\" data-id=\"'+ value.id +'\" data-category=\"3\">' +\n                            '<a>' +\n                            value.name +\n                            '</a>' +\n                            '<button style=\"cursor: pointer\" class=\"btn btn-primary float-right btn-sm\" data-id=\"'+ value.id +'\" onclick=\"editItem(this)\">Edit Item</button>' +\n                            '<button style=\"cursor: pointer\" class=\"btn btn-primary float-right btn-sm mr-2\" data-id=\"'+ value.id +'\" onclick=\"newItemDetail(this)\">New Item Detail</button>' +\n                            '<button style=\"cursor: pointer\" class=\"btn btn-danger float-right btn-sm mr-2\" data-id=\"'+ value.id +'\" onclick=\"deleteItem(this)\">Delete Item</button>' +\n                            '</a>';\n\n                        $('.category-three').append(html);\n                    });\n                }break;\n\n                case '3':\n                {\n                    $('.items-list').empty();\n\n                    $.each(out.html, function(key, value){\n\n                        var status = {};\n\n                        if(value.status == 'available') {\n                            status.available = 'checked';\n                            status.preorder = '';\n                            status.hidden = '';\n                        }\n                        else if(value.status == 'preorder') {\n                            status.available = '';\n                            status.preorder = 'checked';\n                            status.hidden = '';\n                        }\n                        else{\n                            status.available = '';\n                            status.preorder = '';\n                            status.hidden = 'checked';\n                        }\n\n                        html = '<tr>' +\n                            '<td>'+ (key+1) +'</td>' +\n                            '<td data-case=\"color\" data-id=\"'+ value.id +'\" onblur=\"editItemDetail(this)\" contenteditable>'+ value.color +'</td>' +\n                            '<td data-case=\"size\" data-id=\"'+ value.id +'\" onblur=\"editItemDetail(this)\" contenteditable>'+ value.size +'</td>' +\n                            '<td>' +\n                            '   <button class=\"btn btn-primary btn-block\" style=\"cursor: pointer;\" data-link=\"'+ value.images +'\" onclick=\"viewImagesDetail(this)\">View Images</button>' +\n                            '</td>' +\n                            '<td data-case=\"stock\" data-id=\"'+ value.id +'\" onblur=\"editItemDetail(this)\" contenteditable>'+ value.stock +'</td>' +\n                            '<td>'+\n                            '<input type=\"radio\" name=\"status#'+ value.id +'\" ' + status.available + ' data-case=\"status\" data-id=\"'+ value.id +'\" onclick=\"editItemDetail(this)\" value=\"available\"> Available <br>' +\n                            '<input type=\"radio\" name=\"status#'+ value.id +'\" ' + status.preorder + '  data-case=\"status\" data-id=\"'+ value.id +'\" onclick=\"editItemDetail(this)\" value=\"preorder\"> Preorder <br>' +\n                            '<input type=\"radio\" name=\"status#'+ value.id +'\" ' + status.hidden + '  data-case=\"status\" data-id=\"'+ value.id +'\" onclick=\"editItemDetail(this)\" value=\"hidden\"> Hidden <br>' +\n                            '</td>' +\n                            '<td>' +\n                            '<button class=\"btn btn-danger\" onclick=\"deleteItemDetail(this)\" data-id=\"'+ value.id +'\" style=\"cursor:pointer\">Delete</button>' +\n                            '</td>' +\n                            '</tr>';\n\n                        $('.items-list').append(html);\n                    });\n                }break\n            }\n        }\n    });\n}\n\nfunction toggleSuccess (data)\n{\n    $('.notification-success').removeClass('hidden');\n    $('.alert-body-success').html(data);\n    setTimeout(function()\n    {\n        $('.notification-success').addClass('hidden');\n    }, 2500);\n}\n\nfunction toggleError (data)\n{\n    $('.notification-error').removeClass('hidden');\n    $('.alert-body-error').html(data);\n    setTimeout(function()\n    {\n        $('.notification-error').addClass('hidden');\n    }, 2500);\n}\n\n/* Transactions */\nfunction changeTab(e)\n{\n    var id = $(e).data('id');\n\n    switch(id)\n    {\n        case 'wp':\n        {\n            $('.pc').hide();\n            $('.ws').hide();\n            $('.sc').hide();\n            $('.wp').show(\"slow\");\n\n            $('.tab-border').removeClass(\"active\");\n            $('.wp-link').addClass('active');\n        }break;\n\n        case 'pc':\n        {\n            $('.wp').hide();\n            $('.ws').hide();\n            $('.sc').hide();\n            $('.pc').show(\"slow\");\n\n            $('.tab-border').removeClass(\"active\");\n            $('.pc-link').addClass('active');\n        }break;\n\n        case 'ws':\n        {\n            $('.wp').hide();\n            $('.pc').hide();\n            $('.sc').hide();\n            $('.ws').show(\"slow\");\n\n            $('.tab-border').removeClass(\"active\");\n            $('.ws-link').addClass('active');\n        }break;\n\n        case 'sc':\n        {\n            $('.wp').hide();\n            $('.pc').hide();\n            $('.ws').hide();\n            $('.sc').show(\"slow\");\n\n            $('.tab-border').removeClass(\"active\");\n            $('.sc-link').addClass('active');\n        }break;\n    }\n}\n\nfunction loadTransactionDatas ()\n{\n    var wp = $('.wp-content');\n    var pc = $('.pc-content');\n    var ws = $('.ws-content');\n    var sc = $('.sc-content');\n\n    wp.empty();\n    pc.empty();\n    ws.empty();\n    sc.empty();\n\n    $.ajax({\n        url: '/admin/get_transactions',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'post',\n        success: function (res) {\n\n            $.each(res.transactions, function(key, value){\n\n                console.log(value);\n\n                var date = value.created_at.substring(0,10).split('-');\n\n                if(value.transfer_proof == null)\n                {\n                    var transfer_proof = '<button class=\"btn btn-danger\">Not Paid</button>'\n                }else{\n                    var transfer_proof = '<img src=\"'+ value.transfer_proof + '\">'\n                }\n\n                switch(value.status)\n                {\n                    case 0 :\n                    {\n                        var html = '<tr>' +\n                            '<td>'+ value.id +'</td>'+\n                            '<td>'+ value.user.firstname + ' ' + value.user.lastname +'</td>'+\n                            '<td>'+ value.payment_type.name +'</td>'+\n                            '<td>'+ value.notes + '</td>'+\n                            '<td>'+ date[2] + ' - ' + date[1] + ' - ' + date[0] + '</td>'+\n                            '<td><button class=\"btn btn-primary\" onclick=\"openTicket(this)\" data-id=\"'+ value.id +'\" data-user-id=\"' + value.user_id + '\">Open Ticket</button></td>'+\n                        '</tr>';\n                        wp.append(html);\n                    }break;\n\n                    case 1 :\n                    {\n                        var html = '<tr>' +\n                            '<td>'+ value.id +'</td>'+\n                            '<td>'+ value.user.firstname + ' ' + value.user.lastname +'</td>'+\n                            '<td>'+ value.payment_type.name +'</td>'+\n                            '<td>'+ value.notes +'</td>'+\n                            '<td>'+ transfer_proof +'</td>'+\n                            '<td>'+ date[2] + ' - ' + date[1] + ' - ' + date[0] + '</td>'+\n                            '<td>' +\n                            '<button class=\"btn btn-primary mr-2\" onclick=\"openTicket(this)\" data-id=\"'+ value.id +'\" data-user-id=\"' + value.user_id + '\">Open Ticket</button>' +\n                            '<button class=\"btn btn-primary\" onclick=\"confirmPayment(this)\" data-id=\"' + value.id + '\">Confirm Payment</button>' +\n                            '</td>'+\n                            '</tr>';\n                        pc.append(html);\n                    }break;\n\n                    case 2 :\n                    {\n                        var html = '<tr>' +\n                            '<td>'+ value.id +'</td>'+\n                            '<td>'+ value.user.firstname + ' ' + value.user.lastname +'</td>'+\n                            '<td>'+ value.payment_type.name +'</td>'+\n                            '<td>'+ value.notes +'</td>'+\n                            '<td>'+ transfer_proof +'</td>'+\n                            '<td>'+ date[2] + ' - ' + date[1] + ' - ' + date[0] + '</td>'+\n                            '<td>' +\n                            '<button class=\"btn btn-primary\" onclick=\"addTrackingCode(this)\" data-id=\"'+ value.id +'\">Add Tracking Code</button>' +\n                            '<button class=\"btn btn-primary\" onclick=\"openTicket(this)\" data-id=\"'+ value.id +'\" data-user-id=\"' + value.user_id + '\">Open Ticket</button>' +\n                            '</td>'+\n                            '</tr>';\n                        ws.append(html);\n                    }break;\n\n                    case 3 :\n                    {\n                        var html = '<tr>' +\n                            '<td>'+ value.id +'</td>'+\n                            '<td>'+ value.user.firstname + ' ' + value.user.lastname +'</td>'+\n                            '<td>'+ value.payment_type.name +'</td>'+\n                            '<td>'+ value.notes +'</td>'+\n                            '<td>'+ transfer_proof +'</td>'+\n                            '<td>'+ value.shipping_codes +'</td>'+\n                            '<td>'+ date[2] + ' - ' + date[1] + ' - ' + date[0] + '</td>'+\n                            '<td><button class=\"btn btn-primary\" onclick=\"openTicket(this)\" data-id=\"'+ value.id +'\" data-user-id=\"' + value.user_id + '\">Open Ticket</button></td>'+\n                            '</tr>';\n                        sc.append(html);\n                    }break;\n                }\n\n            });\n        },\n        error: function (data) {\n            toggleError(data.responseJSON.errors);\n            console.log(data.responseJSON.errors_debug);\n        }\n    });\n}\n\nfunction confirmPayment(e)\n{\n    var id = $(e).data('id');\n\n    $('#modal').modal('toggle');\n    $('.modal-title').html('Confirm Payment?');\n    $('.modal-body').empty();\n    $('#ajax-loading').show();\n\n    $.ajax({\n        url: '/admin/confirm_prompt',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: {id: id, type: 'confirm_payment'},\n        success: function (data) {\n            $('.modal-body').html(data);\n            $('#ajax-loading').hide();\n        }\n    });\n}\n\nfunction confirmAction(e)\n{\n    var id = $(e).data('id');\n    var type = $(e).data('type');\n\n    $.ajax({\n        url: type,\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: {id: id},\n        success: function (response) {\n            toggleSuccess(response.msg);\n            $('#modal').modal('toggle');\n\n            if(type == 'confirm_payment')\n                loadTransactionDatas();\n        },\n        error: function(data) {\n            toggleError(data.responseJSON.errors);\n            console.log(data.responseJSON.errors_debug);\n            $('#modal').modal('toggle');\n        }\n    });\n}\n\nfunction cancelAction()\n{\n    $('#modal').modal('toggle');\n}\n\nfunction openTicket(e)\n{\n    var id = $(e).data('id');\n    var user_id = $(e).data('user-id');\n\n    $('#modal').modal('toggle');\n    $('.modal-title').html('Open New Support Ticket');\n    $('.modal-body').empty();\n    $('#ajax-loading').show();\n\n    $.ajax({\n        url: '/admin/open_ticket_req',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: {id: id, user_id: user_id},\n        success: function (data) {\n            $('.modal-body').html(data);\n            $('#ajax-loading').hide();\n        }\n    });\n}\n\nfunction addTrackingCode(e)\n{\n    var id = $(e).data('id');\n\n    $('#modal').modal('toggle');\n    $('.modal-title').html('Add Tracking Code');\n    $('.modal-body').empty();\n    $('#ajax-loading').show();\n\n    $.ajax({\n        url: '/admin/add_tracking_code_req',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: {id: id},\n        success: function (data) {\n            $('.modal-body').html(data);\n            $('#ajax-loading').hide();\n        }\n    });\n}"],"sourceRoot":"/source/"}
{"version":3,"sources":["front.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"front.js","sourcesContent":["/**\n * Created by JohnNate on 10/10/17.\n */\n\nfunction addToCart()\n{\n    var options = {\n        url: '/product/add_to_cart',\n        type: 'post',\n        success: function(response)\n        {\n            toggleSuccess(response.msg);\n            loadCart();\n        },\n        error: function(response)\n        {\n            toggleError(JSON.stringify(response.responseJSON.errors));\n            // console.log(response.responseJSON.errors_debug);\n        }\n    };\n\n    if($('#size').val() == 'non')\n        return false;\n    else\n        $(\"#productForm\").ajaxSubmit(options);\n}\n\nfunction removeItem(e)\n{\n    var id = $(e).data('id');\n\n    $.ajax({\n        url: '/remove_item',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: { id:id },\n        success: function (response) {\n            toggleSuccess(\"Item Removed from Cart\");\n            loadCart();\n        },\n        error: function(data) {\n            toggleError(data.responseJSON.errors);\n            console.log(data.responseJSON.errors_debug);\n        }\n    });\n}\n\nfunction clearCart ()\n{\n    $.ajax({\n        url: '/clear_cart',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        success: function (response) {\n            toggleSuccess (\"Cart Cleared!\");\n            loadCart();\n        },\n        error: function(data) {\n            toggleError(data.responseJSON.errors);\n            console.log(data.responseJSON.errors_debug);\n        }\n    });\n}\n\nfunction loadCart()\n{\n    var cart = $('.cart-item-container');\n    var bag = $('#bag-items');\n    var total = $('#total-price');\n\n    cart.empty();\n\n    $.ajax({\n        url: '/cart/contents_ajax/',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        success: function (data) {\n\n            // console.log(data);\n\n            if(data.cart == null)\n            {\n                var html = \"<div class='cart-empty'>\" +\n                    \"<h4>Cart Is Empty</h4>\" +\n                    \"</div>\";\n\n                cart.append(html);\n            }else\n            {\n                bag.html('<span>BAG</span>(' + data.quantity + ')');\n                total.html('Rp.' + data.total + ',00');\n\n                $.each(data.cart, function(key, value)\n                {\n                    var html = '<div class=\"cart-item row align-items-center\">' +\n                        '<div class=\"item-image col-lg-3\" style= \"background-image:url(' +  '/storage/item_detail/' + value.attributes.product_image + ')\" >' +\n                        '</div>' +\n                        '<div class=\"item-description col-6\">' +\n                        '<h4>' + value.name + '</h4>' +\n                        '<h5>Rp.' + value.price + '.00</h5>' +\n                        '<span>' + value.quantity + ' pc(s)</span>' +\n                        '</div>' +\n                        '<div class=\"item-edit col-3\">' +\n                        '<a href=\"#\" onclick=\"removeItem(this)\" data-id=\"' + value.id + '\">Remove</a>' +\n                        '</div>' +\n                        '</div>' +\n\n                        '<hr>';\n                    cart.append(html);\n                });\n            }\n        }\n    });\n}\n\nfunction loadStore()\n{\n    var store = $('.shop-page-shop');\n\n    store.empty();\n\n    $.ajax({\n        url: '/products/front.page',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        success: function (res) {\n\n            // console.log(res);\n\n            //Load Default Products, limited 30 products\n            $.each(res.products, function(key, value){\n\n                //Check if item detail is not available\n                if(value.item_detail == \"\")\n                    return true;\n\n                var image = res.images[key][0].split('/');\n                image = '/storage/item_detail/' + image[2] + '/' + image[3];\n\n                var html = '<div class=\"col-md-3 float-left mb-5\" style=\"cursor: pointer\" onclick=\"openProduct(this)\" data-id=\"' + value.id + '\" data-category=\"' + value.item_category.name + '\" data-gender=\"'+ value.item_category.gender +'\">' +\n                                    '<div class=\"shop-picture ps1\"' +\n                                        'style=\"background-image: url(' + image + ')\"' +\n                                    '>' +\n                                    '</div>' +\n                                '<div class=\"shop-picture-desc\">' +\n                                    '<div class=\"shop-picture-name\">' +\n                                        value.name +\n                                    '</div>' +\n                                    '<div class=\"shop-picture-price\">' +\n                                        'IDR ' + value.price +\n                                    '</div>'+\n                                '</div>' +\n                            '</div>';\n\n                store.append(html);\n            });\n\n            var mcat = $('#mdropdowns');\n            var wcat = $('#wdropdowns');\n            var ocat = $('#odropdowns');\n\n            mcat.empty();\n            wcat.empty();\n            ocat.empty();\n\n            //Load Categories\n            $.each(res.categories, function(key, value){\n\n\n                switch(value.gender)\n                {\n                    case 'male' :\n                    {\n                        mcat.append('<li class=\"category-links\" data-id=\"' + value.id + '\" onclick=\"loadFromCategory(this)\">' + value.name.toUpperCase() + '</li>');\n                    }break;\n\n                    case 'female' :\n                    {\n\n                    }break;\n\n                    case 'others' :\n                    {\n\n                    }break;\n                }\n            });\n        },\n        error: function (res) {\n            toggleError(res.errors);\n            console.log(res);\n        }\n    });\n}\n\nfunction openProduct (e)\n{\n    var link = '/product/' + $(e).data('gender') + '/' + $(e).data('category') + '/' + $(e).data('id');\n    window.location.href = link;\n}\n\nfunction loadFromCategory (e)\n{\n    var category_id = $(e).data('id');\n\n    var store = $('.shop-page-shop');\n\n    store.empty();\n\n    $.ajax({\n        url: '/products/category.products',\n        headers: {'X-CSRF-Token': $('meta[name=\"csrf-token\"]').attr('content')},\n        type: 'POST',\n        data: {category_id: category_id},\n        success: function (res) {\n\n            console.log(res);\n\n            //Load Default Products, limited 30 products\n            $.each(res.products, function(key, value){\n\n                //Check if item detail is not available\n                if(value.item_detail == \"\")\n                    return true;\n\n                var image = res.images[key][0].split('/');\n                image = '/storage/item_detail/' + image[2] + '/' + image[3];\n\n                var html = '<div class=\"col-md-3 float-left mb-5\" style=\"cursor: pointer\" onclick=\"openProduct(this)\" data-id=\"' + value.id + '\" data-category=\"' + value.item_category.name + '\" data-gender=\"'+ value.item_category.gender +'\">' +\n                    '<div class=\"shop-picture ps1\"' +\n                    'style=\"background-image: url(' + image + ')\"' +\n                    '>' +\n                    '</div>' +\n                    '<div class=\"shop-picture-desc\">' +\n                    '<div class=\"shop-picture-name\">' +\n                    value.name +\n                    '</div>' +\n                    '<div class=\"shop-picture-price\">' +\n                    'IDR ' + value.price +\n                    '</div>'+\n                    '</div>' +\n                    '</div>';\n\n                store.append(html);\n            });\n\n        },\n        error: function (res) {\n            toggleError(res.errors);\n            console.log(res);\n        }\n    });\n}"],"sourceRoot":"/source/"}
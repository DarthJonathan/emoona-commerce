"use strict";function addToCart(){var e={url:"/product/add_to_cart",type:"post",success:function(e){toggleSuccess(e.msg),loadCart()},error:function(e){toggleError(JSON.stringify(e.responseJSON.errors))}};if("non"==$("#size").val())return!1;$("#productForm").ajaxSubmit(e)}function removeItem(e){var a=$(e).data("id");$.ajax({url:"/remove_item",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"POST",data:{id:a},success:function(e){toggleSuccess("Item Removed from Cart"),loadCart()},error:function(e){toggleError(e.responseJSON.errors)}})}function clearCart(){$.ajax({url:"/clear_cart",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"POST",success:function(e){toggleSuccess("Cart Cleared!"),loadCart(),location.reload()},error:function(e){toggleError(e.responseJSON.errors)}})}function loadCart(){var e=$(".cart-item-container"),a=$("#bag-items"),t=$("#total-price");e.empty(),$.ajax({url:"/cart/contents_ajax",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"GET",success:function(r){if(null==r.cart){a.html("<span>BAG</span>(0)"),t.html("Rp.0,00");e.append("<div class='cart-empty'><h4>Cart Is Empty</h4></div>")}else a.html("<span>BAG</span>("+r.quantity+")"),t.html("Rp."+r.total+",00"),$.each(r.cart,function(a,t){var r='<div class="cart-item row align-items-center"><div class="item-image col-lg-3" style= "background-image:url(/storage/item_detail/'+t.attributes.product_image+')" ></div><div class="item-description col-6"><h4>'+t.name+"</h4><h5>Rp."+makePrice(t.price)+".00</h5><span>"+t.quantity+' pc(s)</span></div><div class="item-edit col-3"><a href="#" onclick="removeItem(this)" data-id="'+t.id+'">Remove</a></div></div><hr>';e.append(r)})}})}function getStore(){return $.get("/products/front.page").promise()}function loadStore(){null===store_cache&&(store_cache=getStore()),store_cache.done(function(e){return renderStore(e)})}function openProduct(e){var a="/product/"+$(e).data("gender")+"/"+$(e).data("category")+"/"+$(e).data("id");window.location.href=a}function loadFromCategory(e){var a=$(e).data("id");categories_cache[a]||(categories_cache[a]=$.get("/products/category.products",{category_id:a}).promise()),categories_cache[a].done(function(e){return renderFromCategory(e)})}function renderFromCategory(e){var a=$(".shop-page-shop");a.empty();var t=0,r=0;if(0==e.products.length){var o="<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>";return a.append(o),!0}if($.each(e.products,function(o,i){if(t++,0==i.item_detail.length)return r++,!0;if(0==e.images[o].length){var c=null;return!0}var c=e.images[o][0].split("/"),c=e.images[o][0].split("/");c="/storage/item_detail/"+c[2]+"/"+c[3];var n=i.price,s='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+i.id+'" data-category="'+i.item_category.name+'" data-gender="'+i.item_category.gender+'"><div class="shop-picture ps1"style="background-image: url('+c+')"></div><div class="sale-tag-circle sale-'+o+'">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+i.name+'</div><div class="shop-picture-price sale-price-'+o+'">IDR '+makePrice(i.price)+"</div></div></div>";a.append(s),$(".sale-"+o).css("display","none");var d=o;$.each(i.item_detail,function(a,t){null!=e.discounts[t.id]&&($(".sale-"+d).css("display","block"),$(".sale-price-"+d).html("IDR <s>"+makePrice(n)+"</s> "+makePrice(n-e.discounts[t.id]*n)))})}),r==t){a.empty();var o="<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>";a.append(o)}}function orderHistory(){window.location.href="/order.history"}function orderTracking(){window.location.href="/orders"}function viewOrder(e){var a=$(e).data("id");window.location.href="/transactions/"+a}function viewTickets(e){$(e).data("id");window.location.href="/tickets"}function viewTransfer(){window.location.href="/transfer.information"}function printThis(){window.print()}function reloadTicket(e){var a=$(".replies-field-"+e),t=$("#reply"+e),r='<div class="row"><div class="col-md-8"></div><div class="col-md-4 box-username"><center> You </center></div><div class="col-md-12 box-message">'+t.val()+"</div></div>";a.append(r),t.empty()}function newTicketUser(){var e={url:"/tickets/new.ticket",type:"POST",success:function(e){toggleSuccess(e.msg),location.reload()},error:function(e){var a="";$.each(e.responseJSON.errors,function(e,t){a+=t+"<br>"}),toggleError(a)}};return $("#newTicketUser").ajaxSubmit(e),!1}function replyTicketUser(e){var a={url:"/tickets/reply.ticket",type:"POST",success:function(a){toggleSuccess(a.msg),reloadTicket(e)},error:function(e){var a="";$.each(e.responseJSON.errors,function(e,t){a+=t+"<br>"}),toggleError(a)}};return $("#replyTicketUser"+e).ajaxSubmit(a),!1}function openTnc(){window.location.href="/tnc"}function openReturn(){window.location.href="/return"}function openShipping(){window.location.href="/shipping"}function openContact(){window.location.href="/contact"}function viewProduct(e){var a=$(e).data("id"),t=$(e).data("gender"),r=$(e).data("category");window.location.href="/product/"+t+"/"+r+"/"+a}function openMobileNav(){$(".mobile-nav-collapse").toggleClass("showNav"),$(".navbar-toggler").toggleClass("togglerShow"),$(".hamburger").toggleClass("hamburger--close")}function loadSale(){null===sale_cache&&(sale_cache=$.get("/products/on.sale")),sale_cache.done(function(e){return renderSale(e)})}function renderSale(e){var a=$(".shop-page-shop");a.empty(),$.each(e.products,function(t,r){if(0==e.images[t].length){var o=null;return!0}var o=e.images[t][0].split("/");o="/storage/item_detail/"+o[2]+"/"+o[3];var i='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+r.item.item.id+'" data-category="'+r.category.name+'" data-gender="'+r.category.gender+'"><div class="shop-picture ps1"style="background-image: url('+o+')"></div><div class="sale-tag-circle">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+r.item.item.name+'</div><div class="shop-picture-price">IDR '+makePrice(r.item.item.price)+"</div></div></div>";a.append(i)})}function notifyMe(e){var a=$(e).data("cat"),t="";switch(a){case"no-stock":t=$(e).data("id");break;case"preorder":t=$("#size option:selected").val()}$.ajax({url:"/products/notify",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"POST",data:{cat:a,id:t},success:function(e){toggleSuccess(e.msg)},error:function(e){toggleError(e.responseJSON.errors)}})}function sliderRedirect(e){var a=$(e).data("link");window.location.href=a}function openCategory(e){switch($(e).data("cat")){case"men":window.location.href="/store/male";break;case"woman":window.location.href="/store/female";break;case"others":window.location.href="/store/others"}}function getCategory(e){return $.get("/products/category.products_all",{category_id:e}).promise()}function loadCategory(e){var a=e;category_cache[a]||(category_cache[a]=getCategory(a)),category_cache[a].done(function(e){return renderCategory(e)})}function renderStore(e){var a=$(".shop-page-shop");a.empty(),$.each(e.products,function(t,r){if(0!=r.item_detail.length){if(0==e.images[t].length){var o=null;return!0}var o=e.images[t][0].split("/");o="/storage/item_detail/"+o[2]+"/"+o[3];var i=r.price,c='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+r.id+'" data-category="'+r.item_category.name+'" data-gender="'+r.item_category.gender+'"><div class="shop-picture ps1"style="background-image: url('+o+')"></div><div class="sale-tag-circle sale-'+t+'">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+r.name+'</div><div class="shop-picture-price sale-price-'+t+'">IDR '+makePrice(r.price)+"</div></div></div>";a.append(c),$(".sale-"+t).css("display","none");var n=t;$.each(r.item_detail,function(a,t){null!=e.discounts[t.id]&&($(".sale-"+n).css("display","block"),$(".sale-price-"+n).html("IDR <s>"+makePrice(i)+"</s> "+makePrice(i-e.discounts[t.id]*i)))})}});var t=$("#mdropdowns"),r=$("#wdropdowns"),o=$("#odropdowns");t.empty(),r.empty(),o.empty();var i=0,c=0,n=0;$.each(e.categories,function(e,a){switch(a.gender){case"male":t.append('<li class="category-links" data-id="'+a.id+'" onclick="loadFromCategory(this)">'+a.name.toUpperCase()+"</li>"),i++;break;case"female":r.append('<li class="category-links" data-id="'+a.id+'" onclick="loadFromCategory(this)">'+a.name.toUpperCase()+"</li>"),c++;break;case"others":o.append('<li class="category-links" data-id="'+a.id+'" onclick="loadFromCategory(this)">'+a.name.toUpperCase()+"</li>"),n++}}),$("#menDropDown").data("count",i),$("#womanDropDown").data("count",c),$("#othersDropDown").data("count",n)}function renderCategory(e){var a=$(".shop-page-shop");if(a.empty(),0==e.products.length){a.empty();a.append("<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>")}var t=0;$.each(e.products,function(r,o){$.each(o,function(o,i){if(""==i.item_detail)return!0;if(0==e.images[r].length||null==e.images[r][o][0][0]){var c=null;return!0}var c=e.images[r][o][0][0].split("/");c="/storage/item_detail/"+c[2]+"/"+c[3];var n='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+i.id+'" data-category="'+i.item_category.name+'" data-gender="'+i.item_category.gender+'"><div class="shop-picture ps1"style="background-image: url('+c+')"></div><div class="sale-tag-circle sale-'+t+'">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+i.name+'</div><div class="shop-picture-price sale-price-'+t+'">IDR '+makePrice(i.price)+"</div></div></div>";a.append(n),$(".sale-"+t).css("display","none");var s=t,d=i.price;$.each(i.item_detail,function(a,t){null!=e.discounts[t.id]&&($(".sale-"+s).css("display","block"),$(".sale-price-"+s).html("IDR <s>"+makePrice(d)+"</s> "+makePrice(d-e.discounts[t.id]*d)))}),t++})});var r=$("#mdropdowns"),o=$("#wdropdowns"),i=$("#odropdowns");r.empty(),o.empty(),i.empty();var c=0,n=0,s=0;$.each(e.categories,function(e,a){switch(a.gender){case"male":r.append('<li class="category-links" data-id="'+a.id+'" onclick="loadFromCategory(this)">'+a.name.toUpperCase()+"</li>"),c++;break;case"female":o.append('<li class="category-links" data-id="'+a.id+'" onclick="loadFromCategory(this)">'+a.name.toUpperCase()+"</li>"),n++;break;case"others":i.append('<li class="category-links" data-id="'+a.id+'" onclick="loadFromCategory(this)">'+a.name.toUpperCase()+"</li>"),s++}}),$("#menDropDown").data("count",c),$("#womanDropDown").data("count",n),$("#othersDropDown").data("count",s)}function loadStudioCategory(e){var a=$(e).data("category"),t=$("#banner-space"),r=$("#mdropdowns");t.empty(),r.empty(),$.ajax({url:"/studio/test"+a,type:"GET",success:function(e){$("#mdropdowns").html(e)}})}function checkProducts(e){var a=$(".shop-page-shop");0==$(e).data("count")?(a.empty(),a.append("<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>")):loadCategory($(e).data("category"))}function makePrice(e){e+="";for(var a=e.split("."),t=a[0],r=a.length>1?"."+a[1]:"",o=/(\d+)(\d{3})/;o.test(t);)t=t.replace(o,"$1,$2");return t+r}var store_cache=null,category_cache={},categories_cache={},sale_cache=null;
function addToCart(){var e={url:"/product/add_to_cart",type:"post",success:function(e){toggleSuccess(e.msg),loadCart()},error:function(e){toggleError(JSON.stringify(e.responseJSON.errors))}};return"non"!=$("#size").val()&&void $("#productForm").ajaxSubmit(e)}function removeItem(e){var t=$(e).data("id");$.ajax({url:"/remove_item",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"POST",data:{id:t},success:function(e){toggleSuccess("Item Removed from Cart"),loadCart()},error:function(e){toggleError(e.responseJSON.errors)}})}function clearCart(){$.ajax({url:"/clear_cart",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"POST",success:function(e){toggleSuccess("Cart Cleared!"),loadCart(),location.reload()},error:function(e){toggleError(e.responseJSON.errors)}})}function loadCart(){var e=$(".cart-item-container"),t=$("#bag-items"),a=$("#total-price");e.empty(),$.ajax({url:"/cart/contents_ajax",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"GET",success:function(r){if(null==r.cart){t.html("<span>BAG</span>(0)"),a.html("Rp.0,00");var o="<div class='cart-empty'><h4>Cart Is Empty</h4></div>";e.append(o)}else t.html("<span>BAG</span>("+r.quantity+")"),a.html("Rp."+r.total+",00"),$.each(r.cart,function(t,a){var r='<div class="cart-item row align-items-center"><div class="item-image col-lg-3" style= "background-image:url(/storage/item_detail/'+a.attributes.product_image+')" ></div><div class="item-description col-6"><h4>'+a.name+"</h4><h5>Rp."+makePrice(a.price)+".00</h5><span>"+a.quantity+' pc(s)</span></div><div class="item-edit col-3"><a href="#" onclick="removeItem(this)" data-id="'+a.id+'">Remove</a></div></div><hr>';e.append(r)})}})}function loadStore(){var e=$(".shop-page-shop");e.empty(),$.ajax({url:"/products/front.page",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"GET",success:function(t){$.each(t.products,function(a,r){if(0!=r.item_detail.length){if(null===t.images[a][0])var o=null;else var o=t.images[a][0].split("/");o="/storage/item_detail/"+o[2]+"/"+o[3];var i=r.price,c='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+r.id+'" data-category="'+r.item_category.name+'" data-gender="'+r.item_category.gender+'"><div class="shop-picture ps1"style="background-image: url('+o+')"></div><div class="sale-tag-circle sale-'+a+'">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+r.name+'</div><div class="shop-picture-price">IDR '+makePrice(r.price)+"</div></div></div>";e.append(c),$(".sale-"+a).css("display","none");var s=a;$.each(r.item_detail,function(e,a){null!=t.discounts[a.id]&&($(".sale-"+s).css("display","block"),$(".shop-picture-price").html("IDR <s>"+makePrice(i)+"</s> "+makePrice(i-t.discounts[a.id]*i)))})}});var a=$("#mdropdowns"),r=$("#wdropdowns"),o=$("#odropdowns");a.empty(),r.empty(),o.empty();var i=0,c=0,s=0;$.each(t.categories,function(e,t){switch(t.gender){case"male":a.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),i++;break;case"female":r.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),c++;break;case"others":o.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),s++}}),$("#menDropDown").data("count",i),$("#womanDropDown").data("count",c),$("#othersDropDown").data("count",s)},error:function(e){toggleError(e.errors)}})}function openProduct(e){var t="/product/"+$(e).data("gender")+"/"+$(e).data("category")+"/"+$(e).data("id");window.location.href=t}function loadFromCategory(e){var t=$(e).data("id"),a=$(".shop-page-shop");a.empty(),$.ajax({url:"/products/category.products",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"GET",data:{category_id:t},success:function(e){if(0==e.products.length){var t="<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>";return a.append(t),!0}$.each(e.products,function(t,r){if(0==r.item_detail.length){a.empty();var o="<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>";return void a.append(o)}if(null===e.images[t][0])var i=null;else var i=e.images[t][0].split("/");var i=e.images[t][0].split("/");i="/storage/item_detail/"+i[2]+"/"+i[3];var c=r.price,o='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+r.id+'" data-category="'+r.item_category.name+'" data-gender="'+r.item_category.gender+'"><div class="shop-picture ps1"style="background-image: url('+i+')"></div><div class="sale-tag-circle sale-'+t+'">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+r.name+'</div><div class="shop-picture-price">IDR '+makePrice(r.price)+"</div></div></div>";a.append(o),$(".sale-"+t).css("display","none");var s=t;$.each(r.item_detail,function(t,a){null!=e.discounts[a.id]&&($(".sale-"+s).css("display","block"),$(".shop-picture-price").html("IDR <s>"+makePrice(c)+"</s> "+makePrice(c-e.discounts[a.id]*c)))})})},error:function(e){toggleError(e.errors)}})}function orderHistory(){window.location.href="/order.history"}function orderTracking(){window.location.href="/orders"}function viewOrder(e){var t=$(e).data("id");window.location.href="/transactions/"+t}function viewTickets(e){$(e).data("id");window.location.href="/tickets"}function viewTransfer(){window.location.href="/transfer.information"}function printThis(){window.print()}function reloadTicket(e){var t=$(".replies-field-"+e),a=$("#reply"+e),r='<div class="row"><div class="col-md-8"></div><div class="col-md-4 box-username"><center> You </center></div><div class="col-md-12 box-message">'+a.val()+"</div></div>";t.append(r),a.empty()}function newTicketUser(){var e={url:"/tickets/new.ticket",type:"POST",success:function(e){toggleSuccess(e.msg),location.reload()},error:function(e){var t="";$.each(e.responseJSON.errors,function(e,a){t+=a+"<br>"}),toggleError(t)}};return $("#newTicketUser").ajaxSubmit(e),!1}function replyTicketUser(e){var t={url:"/tickets/reply.ticket",type:"POST",success:function(t){toggleSuccess(t.msg),reloadTicket(e)},error:function(e){var t="";$.each(e.responseJSON.errors,function(e,a){t+=a+"<br>"}),toggleError(t)}};return $("#replyTicketUser"+e).ajaxSubmit(t),!1}function openTnc(){window.location.href="/tnc"}function openReturn(){window.location.href="/return"}function openShipping(){window.location.href="/shipping"}function openContact(){window.location.href="/contact"}function viewProduct(e){var t=$(e).data("id"),a=$(e).data("gender"),r=$(e).data("category");window.location.href="/product/"+a+"/"+r+"/"+t}function openMobileNav(){$(".mobile-nav-collapse").toggleClass("showNav"),$(".navbar-toggler").toggleClass("togglerShow"),$(".hamburger").toggleClass("hamburger--close")}function loadSale(){var e=$(".shop-page-shop");e.empty(),$.ajax({url:"/products/on.sale",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"GET",success:function(t){$.each(t.products,function(a,r){var o=t.images[a][0].split("/");o="/storage/item_detail/"+o[2]+"/"+o[3];var i='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+r.item.item.id+'" data-category="'+r.category.name+'" data-gender="'+r.category.gender+'"><div class="shop-picture ps1"style="background-image: url('+o+')"></div><div class="sale-tag-circle">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+r.item.item.name+'</div><div class="shop-picture-price">IDR '+makePrice(r.item.item.price)+"</div></div></div>";e.append(i)})},error:function(e){toggleError(e.errors)}})}function notifyMe(e){var t=$(e).data("cat"),a="";switch(t){case"no-stock":a=$(e).data("id");break;case"preorder":a=$("#size option:selected").val()}$.ajax({url:"/products/notify",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"POST",data:{cat:t,id:a},success:function(e){toggleSuccess(e.msg)},error:function(e){toggleError(e.responseJSON.errors)}})}function sliderRedirect(e){var t=$(e).data("link");window.location.href=t}function openCategory(e){var t=$(e).data("cat");switch(t){case"men":window.location.href="/store/male";break;case"woman":window.location.href="/store/female";break;case"others":window.location.href="/store/others"}}function loadCategory(e){var t=e,a=$(".shop-page-shop");a.empty(),$.ajax({url:"/products/category.products_all",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"GET",data:{category_id:t},success:function(e){if(0==e.products.length){a.empty();var t="<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>";a.append(t)}$.each(e.products,function(t,r){$.each(r,function(r,o){if(""==o.item_detail)return!0;var i=e.images[t][r].split("/");i="/storage/item_detail/"+i[2]+"/"+i[3];var c='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+o.id+'" data-category="'+o.item_category.name+'" data-gender="'+o.item_category.gender+'"><div class="shop-picture ps1"style="background-image: url('+i+')"></div><div class="sale-tag-circle sale-'+r+'">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+o.name+'</div><div class="shop-picture-price">IDR '+makePrice(o.price)+"</div></div></div>";a.append(c),$(".sale-"+r).css("display","none");var s=o.price;$.each(o.item_detail,function(t,a){null!=e.discounts[a.id]&&($(".sale-"+a.id).css("display","block"),$(".shop-picture-price").html("IDR <s>"+makePrice(s)+"</s> "+makePrice(s-e.discounts[a.id]*s)))})})});var r=$("#mdropdowns"),o=$("#wdropdowns"),i=$("#odropdowns");r.empty(),o.empty(),i.empty();var c=0,s=0,n=0;$.each(e.categories,function(e,t){switch(t.gender){case"male":r.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),c++;break;case"female":o.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),s++;break;case"others":i.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),n++}}),$("#menDropDown").data("count",c),$("#womanDropDown").data("count",s),$("#othersDropDown").data("count",n)},error:function(e){toggleError(e.errors)}})}function loadStudioCategory(e){var t=$(e).data("category"),a=$("#banner-space"),r=$("#mdropdowns");a.empty(),r.empty(),$.ajax({url:"/studio/test"+t,type:"GET",success:function(e){$("#mdropdowns").html(e)}})}function checkProducts(e){var t=$(".shop-page-shop"),a=$(e).data("count");if(0==a){t.empty();var r="<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>";t.append(r)}else loadCategory($(e).data("category"))}function makePrice(e){e+="";for(var t=e.split("."),a=t[0],r=t.length>1?"."+t[1]:"",o=/(\d+)(\d{3})/;o.test(a);)a=a.replace(o,"$1,$2");return a+r}
"use strict";function addToCart(){var e={url:"/product/add_to_cart",type:"post",success:function(e){toggleSuccess(e.msg),loadCart()},error:function(e){toggleError(JSON.stringify(e.responseJSON.errors))}};if("non"==$("#size").val())return!1;$("#productForm").ajaxSubmit(e)}function removeItem(e){var t=$(e).data("id");$.ajax({url:"/remove_item",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"POST",data:{id:t},success:function(e){toggleSuccess("Item Removed from Cart"),loadCart()},error:function(e){toggleError(e.responseJSON.errors)}})}function clearCart(){$.ajax({url:"/clear_cart",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"POST",success:function(e){toggleSuccess("Cart Cleared!"),loadCart(),location.reload()},error:function(e){toggleError(e.responseJSON.errors)}})}function loadCart(){var e=$(".cart-item-container"),t=$("#bag-items"),a=$("#total-price");e.empty(),$.ajax({url:"/cart/contents_ajax",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"GET",success:function(r){if(null==r.cart){t.html("<span>BAG</span>(0)"),a.html("Rp.0,00");e.append("<div class='cart-empty'><h4>Cart Is Empty</h4></div>")}else t.html("<span>BAG</span>("+r.quantity+")"),a.html("Rp."+r.total+",00"),$.each(r.cart,function(t,a){var r='<div class="cart-item row align-items-center"><div class="item-image col-lg-3" style= "background-image:url(/storage/item_detail/'+a.attributes.product_image+')" ></div><div class="item-description col-6"><h4>'+a.name+"</h4><h5>Rp."+makePrice(a.price)+".00</h5><span>"+a.quantity+' pc(s)</span></div><div class="item-edit col-3"><a href="#" onclick="removeItem(this)" data-id="'+a.id+'">Remove</a></div></div><hr>';e.append(r)})}})}function getStore(){return $.get("/products/front.page").promise()}function loadStore(){null===store_cache&&(store_cache=getStore()),store_cache.done(function(e){return renderStore(e)})}function openProduct(e){var t="/product/"+$(e).data("gender")+"/"+$(e).data("category")+"/"+$(e).data("id");window.location.href=t}function loadFromCategory(e){var t=$(e).data("id");categories_cache[t]||(categories_cache[t]=$.get("/products/category.products",{category_id:t}).promise()),categories_cache[t].done(function(e){return renderFromCategory(e)})}function renderFromCategory(e){var t=$(".shop-page-shop");t.empty();var a=0,r=0;if(0==e.products.length){var o="<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>";return t.append(o),!0}if($.each(e.products,function(o,i){if(a++,0==i.item_detail.length)return r++,!0;if(0==e.images[o].length){var c=null;return!0}var c=e.images[o][0].split("/"),c=e.images[o][0].split("/");c="/storage/item_detail/"+c[2]+"/"+c[3];var n=i.price,s='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+i.id+'" data-category="'+i.item_category.name+'" data-gender="'+i.item_category.gender+'"><div class="shop-picture ps1"style="background-image: url('+c+')"></div><div class="sale-tag-circle sale-'+o+'">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+i.name+'</div><div class="shop-picture-price sale-price-'+o+'">IDR '+makePrice(i.price)+"</div></div></div>";t.append(s),$(".sale-"+o).css("display","none");var d=o;$.each(i.item_detail,function(t,a){null!=e.discounts[a.id]&&($(".sale-"+d).css("display","block"),$(".sale-price-"+d).html("IDR <s>"+makePrice(n)+"</s> "+makePrice(n-e.discounts[a.id]*n)))})}),r==a){t.empty();var o="<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>";t.append(o)}}function orderHistory(){window.location.href="/order.history"}function orderTracking(){window.location.href="/orders"}function viewOrder(e){var t=$(e).data("id");window.location.href="/transactions/"+t}function viewTickets(e){$(e).data("id");window.location.href="/tickets"}function viewTransfer(){window.location.href="/transfer.information"}function printThis(){window.print()}function reloadTicket(e){var t=$(".replies-field-"+e),a=$("#reply"+e),r='<div class="row"><div class="col-md-8"></div><div class="col-md-4 box-username"><center> You </center></div><div class="col-md-12 box-message">'+a.val()+"</div></div>";t.append(r),a.empty()}function newTicketUser(){var e={url:"/tickets/new.ticket",type:"POST",success:function(e){toggleSuccess(e.msg),location.reload()},error:function(e){var t="";$.each(e.responseJSON.errors,function(e,a){t+=a+"<br>"}),toggleError(t)}};return $("#newTicketUser").ajaxSubmit(e),!1}function replyTicketUser(e){var t={url:"/tickets/reply.ticket",type:"POST",success:function(t){toggleSuccess(t.msg),reloadTicket(e)},error:function(e){var t="";$.each(e.responseJSON.errors,function(e,a){t+=a+"<br>"}),toggleError(t)}};return $("#replyTicketUser"+e).ajaxSubmit(t),!1}function openTnc(){window.location.href="/tnc"}function openReturn(){window.location.href="/return"}function openShipping(){window.location.href="/shipping"}function openContact(){window.location.href="/contact"}function viewProduct(e){var t=$(e).data("id"),a=$(e).data("gender"),r=$(e).data("category");window.location.href="/product/"+a+"/"+r+"/"+t}function openMobileNav(){$(".mobile-nav-collapse").toggleClass("showNav"),$(".navbar-toggler").toggleClass("togglerShow"),$(".hamburger").toggleClass("hamburger--close")}function loadSale(){null===sale_cache&&(sale_cache=$.get("/products/on.sale")),sale_cache.done(function(e){return renderSale(e)})}function renderSale(e){var t=$(".shop-page-shop");t.empty(),$.each(e.products,function(a,r){if(0==e.images[a].length){var o=null;return!0}var o=e.images[a][0].split("/");o="/storage/item_detail/"+o[2]+"/"+o[3];var i='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+r.item.item.id+'" data-category="'+r.category.name+'" data-gender="'+r.category.gender+'"><div class="shop-picture ps1"style="background-image: url('+o+')"></div><div class="sale-tag-circle">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+r.item.item.name+'</div><div class="shop-picture-price">IDR '+makePrice(r.item.item.price)+"</div></div></div>";t.append(i)})}function notifyMe(e){var t=$(e).data("cat"),a="";switch(t){case"no-stock":a=$(e).data("id");break;case"preorder":a=$("#size option:selected").val()}$.ajax({url:"/products/notify",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},type:"POST",data:{cat:t,id:a},success:function(e){toggleSuccess(e.msg)},error:function(e){toggleError(e.responseJSON.errors)}})}function sliderRedirect(e){var t=$(e).data("link");window.location.href=t}function openCategory(e){switch($(e).data("cat")){case"men":window.location.href="/store/male";break;case"woman":window.location.href="/store/female";break;case"others":window.location.href="/store/others"}}function getCategory(e){return $.get("/products/category.products_all",{category_id:e}).promise()}function loadCategory(e){var t=e;category_cache[t]||(category_cache[t]=getCategory(t)),category_cache[t].done(function(e){return renderCategory(e)})}function renderStore(e){var t=$(".shop-page-shop");t.empty(),$.each(e.products,function(a,r){if(0!=r.item_detail.length){if(0==e.images[a].length){var o=null;return!0}var o=e.images[a][0].split("/");o="/storage/item_detail/"+o[2]+"/"+o[3];var i=r.price,c='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+r.id+'" data-category="'+r.item_category.name+'" data-gender="'+r.item_category.gender+'"><div class="shop-picture ps1"style="background-image: url('+o+')"></div><div class="sale-tag-circle sale-'+a+'">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+r.name+'</div><div class="shop-picture-price sale-price-'+a+'">IDR '+makePrice(r.price)+"</div></div></div>";t.append(c),$(".sale-"+a).css("display","none");var n=a;$.each(r.item_detail,function(t,a){null!=e.discounts[a.id]&&($(".sale-"+n).css("display","block"),$(".sale-price-"+n).html("IDR <s>"+makePrice(i)+"</s> "+makePrice(i-e.discounts[a.id]*i)))})}});var a=$("#mdropdowns"),r=$("#wdropdowns"),o=$("#odropdowns");a.empty(),r.empty(),o.empty();var i=0,c=0,n=0;$.each(e.categories,function(e,t){switch(t.gender){case"male":a.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),i++;break;case"female":r.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),c++;break;case"others":o.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),n++}}),$("#menDropDown").data("count",i),$("#womanDropDown").data("count",c),$("#othersDropDown").data("count",n)}function renderCategory(e){var t=$(".shop-page-shop");if(t.empty(),0==e.products.length){t.empty();t.append("<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>")}var a=0;$.each(e.products,function(r,o){$.each(o,function(o,i){if(""==i.item_detail)return!0;if(0==e.images[r].length||null==e.images[r][o][0][0]){var c=null;return!0}var c=e.images[r][o][0][0].split("/");c="/storage/item_detail/"+c[2]+"/"+c[3];var n='<div class="col-md-3 float-left mb-5" style="cursor: pointer" onclick="openProduct(this)" data-id="'+i.id+'" data-category="'+i.item_category.name+'" data-gender="'+i.item_category.gender+'"><div class="shop-picture ps1"style="background-image: url('+c+')"></div><div class="sale-tag-circle sale-'+a+'">SALE</div><div class="shop-picture-desc"><div class="shop-picture-name">'+i.name+'</div><div class="shop-picture-price sale-price-'+a+'">IDR '+makePrice(i.price)+"</div></div></div>";t.append(n),$(".sale-"+a).css("display","none");var s=a,d=i.price;$.each(i.item_detail,function(t,a){null!=e.discounts[a.id]&&($(".sale-"+s).css("display","block"),$(".sale-price-"+s).html("IDR <s>"+makePrice(d)+"</s> "+makePrice(d-e.discounts[a.id]*d)))}),a++})});var r=$("#mdropdowns"),o=$("#wdropdowns"),i=$("#odropdowns");r.empty(),o.empty(),i.empty();var c=0,n=0,s=0;$.each(e.categories,function(e,t){switch(t.gender){case"male":r.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),c++;break;case"female":o.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),n++;break;case"others":i.append('<li class="category-links" data-id="'+t.id+'" onclick="loadFromCategory(this)">'+t.name.toUpperCase()+"</li>"),s++}}),$("#menDropDown").data("count",c),$("#womanDropDown").data("count",n),$("#othersDropDown").data("count",s)}function loadStudioCategory(e){var t=$(e).data("category"),a=$("#banner-space"),r=$("#mdropdowns");a.empty(),r.empty(),$.ajax({url:"/studio/test"+t,type:"GET",success:function(e){$("#mdropdowns").html(e)}})}function checkProducts(e){var t=$(".shop-page-shop");0==$(e).data("count")?(t.empty(),t.append("<div class='category-empty'><h4>we're making something great, stay connected!</h4></div>")):loadCategory($(e).data("category"))}function makePrice(e){e+="";for(var t=e.split("."),a=t[0],r=t.length>1?"."+t[1]:"",o=/(\d+)(\d{3})/;o.test(a);)a=a.replace(o,"$1,$2");return a+r}function viewStudioItem(e){var t=$(e).data("link");$(e).data("type");$("#modal").modal("toggle"),$(".modal-title").html("Studio Item"),$("#ajax-loading").hide();var a=$(".modal-body");a.empty();var r="<img src='/storage/img/studio/"+t+"' width='100%'>";a.html(r)}var store_cache=null,category_cache={},categories_cache={},sale_cache=null;